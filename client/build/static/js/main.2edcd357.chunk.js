(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/confirmation.31a737c5.png"},120:function(e,t,a){},159:function(e,t,a){e.exports=a(193)},168:function(e,t,a){},169:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(76),u=a(131),i=a(74),s=a(31),m=Object(o.c)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTLIST_FETCH_START":return{loading:!0,products:[]};case"PRODUCTLIST_FETCH_SUCCESS":return{products:t.payload.productList,count:t.payload.totalProduct,success:!0};case"PRODUCTLIST_FETCH_ERROR":return{error:t.payload};default:return e}},Product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_FETCH_START":return{loading:!0,product:{}};case"PRODUCT_FETCH_SUCCESS":return{product:t.payload,success:!0};case"PRODUCT_FETCH_FAIL":return{error:t.payload};default:return e}},productReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{productReviews:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTREVIEW_FETCH_START":return{loading:!0,productReviews:[]};case"PRODUCTREVIEW_FETCH_SUCCESS":return{productReviews:t.payload.productReviews,count:t.payload.totalReview,success:!0};case"PRODUCT_FETCH_FAIL":return{error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_AUTH_START":return{loading:!0};case"USER_AUTH_SUCCESS":return{userInfo:t.payload,success:!0};case"USER_AUTH_FAIL":return{error:t.payload};case"RESET":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_START":return{loading:!0};case"USER_REGISTER_SUCCESS":return{message:t.payload,success:!0};case"USER_REGISTER_FAIL":return{error:t.payload};case"USER_REGISTER_RESET":return{};default:return e}},createReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_REVIEW_START":return{loading:!0};case"CREATE_REVIEW_SUCCESS":return{success:!0};case"CREATE_REVIEW_FAIL":return{error:t.payload};case"CREATE_REVIEW_RESET":return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.productId===a.productId}));return n?Object(s.a)(Object(s.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.productId===n.productId?a:e}))}):Object(s.a)(Object(s.a)({},e),{},{cartItems:[].concat(Object(i.a)(e.cartItems),[a])});case"CART_REMOVE_ITEM":return Object(s.a)(Object(s.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.productId!==t.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(s.a)(Object(s.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(s.a)(Object(s.a)({},e),{},{paymentMethod:t.payload});case"CART_RESET":return{cartItems:[],shippingAddress:{},paymentMethod:""};default:return e}},createOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER_START":return{loading:!0};case"CREATE_ORDER_SUCCESS":return{order:t.payload,success:!0};case"CREATE_ORDER_FAIL":return{error:t.payload};case"CREATE_ORDER_RESET":return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ORDER_START":return{loading:!0};case"GET_ORDER_SUCCESS":return{order:t.payload,success:!0};case"GET_ORDER_FAIL":return{error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_START":return{loading:!0};case"ORDER_PAY_SUCCESS":return{success:!0};case"ORDER_PAY_FAIL":return{error:t.payload};case"ORDER_PAY_RESET":return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DILIVERD_START":return{loading:!0};case"ORDER_DILIVERD_SUCCESS":return{success:!0};case"ORDER_DILIVERD_FAIL":return{error:t.payload};case"ORDER_DELIVER_RESET":return{};default:return e}},authOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_ORDER_FETCH_START":return{loading:!0};case"AUTH_ORDER_FETCH_SUCCESS":return{success:!0,orders:t.payload};case"AUTH_ORDER_FETCH_FAIL":return{error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERLIST_FETCH_START":return{loading:!0};case"ORDERLIST_FETCH_SUCCESS":return{success:!0,orders:t.payload.data,count:t.payload.totalOrders};case"ORDERLIST_FETCH_FAIL":return{error:t.payload};default:return e}},deleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PRODUCT_START":return{loading:!0};case"DELETE_PRODUCT_SUCCESS":return{success:!0};case"DELETE_PRODUCT_FAIL":return{error:t.payload};case"DELETE_PRODUCT_RESET":return{};default:return e}},createProductDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PRODUCT_START":return{loading:!0};case"CREATE_PRODUCT_SUCCESS":return{success:!0};case"CREATE_PRODUCT_FAIL":return{error:t.payload};case"CREATE_PRODUCT_RESET":return{};default:return e}},updateProductDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_PRODUCT_START":return{loading:!0};case"EDIT_PRODUCT_SUCCESS":return{success:!0};case"EDIT_PRODUCT_FAIL":return{error:t.payload};case"EDIT_PRODUCT_RESET":return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERLIST_FETCH_START":return{loading:!0};case"USERLIST_FETCH_SUCCESS":return{users:t.payload.userList,count:t.payload.totalUser,success:!0};case"USERLIST_FETCH_FAIL":return{error:t.payload};default:return e}},userDeleteDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_START":return{loading:!0};case"USER_DELETE_SUCCESS":return{success:!0};case"USER_DELETE_FAIL":return{error:t.payload};case"USER_DELETE_RESET":return{};default:return e}},userUpdateDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_EDIT_START":return{loading:!0};case"USER_EDIT_SUCCESS":return{success:!0};case"USER_EDIT_FAIL":return{error:t.payload};case"USER_EDIT_RESET":return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_FETCH_START":return{loading:!0};case"USER_FETCH_SUCCESS":return{success:!0,user:t.payload};case"USER_FETCH_FAIL":return{error:t.payload};case"USER_FETCH_RESET":return{};default:return e}},forgotPasswordDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_SEND_START":return{loading:!0};case"FORGOT_PASSWORD_SEND_SUCCESS":return{success:!0,message:t.payload};case"FORGOT_PASSWORD_SEND_FAIL":return{error:t.payload};case"FORGOT_PASSWORD_SEND_RSET":return{};default:return e}},resetPasswordDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_PASSWORD_START":return{loading:!0};case"RESET_PASSWORD_SUCCESS":return{success:!0,message:t.payload};case"RESET_PASSWORD_FAIL":return{error:t.payload};case"RESET_PASSWORD_RESET":return{};default:return e}}}),E={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):""},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},d=Object(o.d)(m,E,Object(o.a)(u.a)),p=a(6),f=(a(168),a(169),a(16)),h=a(25),g=a(229),v=a(254),S=a(230),y=a(248),b=a(26),R=a(10),O=a(249),T=a(133),_=(a(120),function(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],l=t[1],c=Object(h.k)();return r.a.createElement(O.a,{inline:!0,onSubmit:function(e){e.preventDefault(),""!==a?c.push("/?search=".concat(a)):c.push("/")}},r.a.createElement(T.a,{type:"text",name:"seacrh",onChange:function(e){return l(e.target.value)},placeholder:"Search product...",className:"mr-sm-2"}),r.a.createElement("i",{className:"fas fa-search"}))}),C=function(){var e=Object(p.c)((function(e){return e.userLogin})),t=Object(p.c)((function(e){return e.cart})).cartItems,a=e.userInfo;return r.a.createElement("header",null,r.a.createElement(v.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0},r.a.createElement(g.a,null,r.a.createElement(b.LinkContainer,{to:"/"},r.a.createElement(v.a.Brand,null,"ShopPoint")),r.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(_,null),r.a.createElement(S.a,{className:"ml-auto"},r.a.createElement(b.LinkContainer,{to:"/cart"},r.a.createElement(S.a.Link,null,r.a.createElement("i",{className:"fas fa-shopping-cart"})," ",t.length>0&&r.a.createElement("span",{className:"cart"},t.reduce((function(e,t){return e+t.qty}),0)))),a?r.a.createElement(y.a,{title:a.name,id:"username"},r.a.createElement(b.LinkContainer,{to:"/profile"},r.a.createElement(y.a.Item,null,"Profile")),r.a.createElement(b.LinkContainer,{to:"/logout"},r.a.createElement(y.a.Item,null,"Logout"))):r.a.createElement(b.LinkContainer,{to:"/login"},r.a.createElement(S.a.Link,null,r.a.createElement("i",{className:"fas fa-user"})," Sign In")),a&&"admin"===a.role&&r.a.createElement(y.a,{title:"Admin",id:"adminMenu"},r.a.createElement(b.LinkContainer,{to:"/admin/userList"},r.a.createElement(y.a.Item,null,"Users")),r.a.createElement(b.LinkContainer,{to:"/admin/productList"},r.a.createElement(y.a.Item,null,"Products")),r.a.createElement(b.LinkContainer,{to:"/admin/orderList"},r.a.createElement(y.a.Item,null,"Orders"))))))))},I=a(231),j=a(134),A=function(){return r.a.createElement("footer",null,r.a.createElement(g.a,null,r.a.createElement(I.a,null,r.a.createElement(j.a,{className:"text-center py-3"},"Copyright \xa9 ShopPoint"))))},D=a(12),k=a.n(D),w=a(18),P=a(20),L=a.n(P),U=function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_FETCH_START"}),t.next=4,L.a.get("/api/v1/product/".concat(e)).then((function(e){var t=e.data.data;a({type:"PRODUCT_FETCH_SUCCESS",payload:t})}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"PRODUCT_FETCH_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},F=a(259),x=function(e){var t=e.value,a=e.text,n=e.color;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,a&&a))};x.defaultProps={color:"#f8e825"};var N=x,W=(a(111),function(e){var t=e.product;return r.a.createElement(F.a,{className:"my-3 p-3 rounded  animate__animated animate__fadeInUp"},r.a.createElement(f.Link,{to:"/product/".concat(t._id)},r.a.createElement(F.a.Img,{src:"https://shoppoint.herokuapp.com/".concat(t.productImage),variant:"top"})),r.a.createElement(F.a.Body,null,r.a.createElement(f.Link,{to:"/product/".concat(t._id)},r.a.createElement(F.a.Title,{as:"div"},r.a.createElement("strong",null,t.name))),r.a.createElement(F.a.Text,{as:"div"},r.a.createElement(N,{value:t.averageRating,text:"".concat(t.Reviews?t.Reviews.length:0," reviews")})),r.a.createElement(F.a.Text,{as:"h3"},"$",t.price)))}),G=a(232),H=a(237),V=a(255),q=a(258),M=a(250),B=a(194),$=a(235),z=a(239),Y=a(261),J=a(238),Q=a(251),K=Object(G.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120,top:-24},selectEmpty:{marginTop:e.spacing(2)}}}));var X=function(e){var t=e.setCategory,a=e.sort,l=e.handleSort,c=e.setPriceRange,o=e.setLtORgt,u=e.ltORgt,i=e.handlePriceRange,s=K(),m=Object(n.useState)(null),E=Object(R.a)(m,2),d=E[0],p=E[1],f=Boolean(d),h=f?"simple-popover":void 0;return r.a.createElement("div",null,r.a.createElement($.a,{"aria-describedby":h,variant:"contained",color:"primary",onClick:function(e){p(e.currentTarget)}},"Filter"),r.a.createElement(M.a,{id:h,open:f,anchorEl:d,onClose:function(){p(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(B.a,{className:s.typography},r.a.createElement("h6",null,"Sort By"),r.a.createElement(H.a,{control:r.a.createElement(V.a,{checked:!!a.includes("name"),color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"name",onChange:function(e){return l(e.target.value)}}),label:"Name"}),r.a.createElement(H.a,{control:r.a.createElement(V.a,{checked:!!a.includes("price"),color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"price",onChange:function(e){return l(e.target.value)}}),label:"Price"}),r.a.createElement(H.a,{control:r.a.createElement(V.a,{checked:!!a.includes("averageRating"),color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"averageRating",onChange:function(e){return l(e.target.value)}}),label:"Rating"}),r.a.createElement(J.a,{variant:"outlined",className:s.formControl},r.a.createElement(z.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return t(e.target.value)},label:"Category"},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"Shirt"},"T-shirt"),r.a.createElement(Y.a,{value:"Pants"},"Pant"),r.a.createElement(Y.a,{value:"Vest"},"Vest"))),r.a.createElement("div",{className:"mt-4 mb-4"},r.a.createElement(q.a,{autoComplete:"priceRange",name:"priceRange",variant:"outlined",type:"number",required:!0,id:"priceRange",placeholder:"Price Range",label:"Price Range",onChange:function(e){return c(e.target.value)}})," ",r.a.createElement(H.a,{control:r.a.createElement(V.a,{checked:"lt"===u,color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"lt",onChange:function(e){return o(e.target.value)}}),label:"Less than"}),r.a.createElement(H.a,{control:r.a.createElement(V.a,{checked:"gte"===u,color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"gte",onChange:function(e){return o(e.target.value)}}),label:"Greater Or equal to"})),r.a.createElement("div",null,r.a.createElement($.a,{variant:"contained",color:"primary",onClick:i},"Done")))))},Z=a(252),ee=function(e){var t=e.header,a=e.message,l=e.reset,c=Object(n.useState)(!0),o=Object(R.a)(c,2),u=o[0],i=o[1],s=Object(p.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"fixed",right:"0",zIndex:"20180210"}},r.a.createElement(Z.a,{onClose:function(){l&&s({type:l}),i(!1)},show:u,delay:3e3,autohide:!0,className:"animate__animated animate__shakeX"},r.a.createElement(Z.a.Header,{style:{background:"red",color:"white",fontWeight:"bold"}},r.a.createElement("strong",{className:"mr-auto"},t)),r.a.createElement(Z.a.Body,null,a))))},te=a(8),ae=a.n(te),ne=function(){return r.a.createElement(I.a,null,Array(8).fill().map((function(e,t){return r.a.createElement(j.a,{key:t,sm:12,md:6,lg:4,xl:3},r.a.createElement(F.a,{className:"my-3 p-3 rounded"},r.a.createElement(F.a.Body,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:180,width:"100%"}),r.a.createElement("br",null),r.a.createElement(ae.a,{width:"60%"}),r.a.createElement("br",null),r.a.createElement(ae.a,{width:"90%"})))))})))},re=a(141),le=function(e){var t=e.title,a=e.description,n=e.keywords;return r.a.createElement(re.a,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"description",content:a}),r.a.createElement("meta",{name:"keyword",content:n}))};le.defaultProps={title:"Welcome To ShopPoint",description:"We sell the best products for cheap",keywords:"clothes, buy readyMadeClothes, cheap latest clothes"};var ce=le,oe=function(){var e=Object(n.useState)([]),t=Object(R.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(R.a)(c,2),u=o[0],i=o[1],s=Object(n.useState)(""),m=Object(R.a)(s,2),E=m[0],d=m[1],h=Object(n.useState)(""),g=Object(R.a)(h,2),v=g[0],S=g[1],y=Object(n.useState)(!0),b=Object(R.a)(y,2),O=b[0],T=b[1],_=Object(p.c)((function(e){return e.productList})),C=_.loading,A=_.products,D=_.count,P=_.error,U=_.success,F=new URLSearchParams(window.location.search),x=F.get("search")?F.get("search").trim():"",N=Object(p.b)();Object(n.useEffect)((function(){G()}),[N,x,a,u]);var G=function(){N(function(e,t,a,n,r,l){return function(){var c=Object(w.a)(k.a.mark((function c(o){var u;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r&&o({type:"PRODUCTLIST_FETCH_START"}),u=[t.length>0?"sort=".concat(t.join(",")):"",""!==e?"&keyWord=".concat(e):"",""!==a?"&category=".concat(a):"",""!==n?"&price[".concat(l,"]=").concat(Number(n)):""],c.next=5,L.a.get("/api/v1/product/?".concat(u.join(""))).then((function(e){var t=e.data.data.results,a=e.data.data.count;o({type:"PRODUCTLIST_FETCH_SUCCESS",payload:{productList:t,totalProduct:a}})}));case 5:c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),o({type:"PRODUCTLIST_FETCH_ERROR",payload:c.t0.response&&c.t0.response.data.error?c.t0.response.data.error:c.t0.message});case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()}(x,a,u,E,O,v))};Object(n.useEffect)((function(){U&&O&&T(!1)}),[N,U]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null),C?r.a.createElement(ne,null):P?r.a.createElement(ee,{header:"Something went wrong",message:P}):r.a.createElement(r.a.Fragment,null,x?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.Link,{to:"/",className:"btn btn-light"},"Go Back"),r.a.createElement("h1",null,"Search Products for ",x,"(",D,")")):r.a.createElement("div",{className:"clearfix"},r.a.createElement("span",{className:"float-left"},r.a.createElement("h1",null,"Latest Products(",D,")")),r.a.createElement("span",{className:"float-right"}," ",r.a.createElement(X,{setCategory:i,sort:a,handleSort:function(e){a.includes(e)?l(a.filter((function(t){return t!==e}))):l((function(t){return t.concat(e)}))},setPriceRange:d,setLtORgt:S,ltORgt:v,handlePriceRange:function(){""!==E&&""!==v&&G()}}))),0===A.length&&r.a.createElement("h4",null,"No Products"),r.a.createElement(I.a,null,A.map((function(e){return r.a.createElement(j.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(W,{product:e}))})))))},ue=a(243),ie=a(257),se=a(242),me=Object(G.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:200},selectEmpty:{marginTop:e.spacing(2)},prgressColor:{color:"#fff"}}})),Ee=function(e){var t=e.productId,a=Object(n.useState)(!0),l=Object(R.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),i=Object(R.a)(u,2),s=i[0],m=i[1],E=Object(n.useState)(""),d=Object(R.a)(E,2),h=d[0],g=d[1],v=Object(n.useState)(""),S=Object(R.a)(v,2),y=S[0],b=S[1],T=me(),_=Object(p.c)((function(e){return e.productReview})),C=Object(p.c)((function(e){return e.createReview})),A=C.success,D=C.loading,P=Object(p.c)((function(e){return e.userLogin})).userInfo,U=_.loading,F=_.productReviews,x=_.count,W=_.error,G=_.success,H=Object(p.b)();Object(n.useEffect)((function(){A&&(m(""),g(""),b(""),H({type:"CREATE_REVIEW_RESET"})),H(function(e,t){return function(){var a=Object(w.a)(k.a.mark((function a(n){return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&n({type:"PRODUCTREVIEW_FETCH_START"}),a.next=4,L.a.get("/api/v1/product/".concat(e,"/reviews")).then((function(e){var t=e.data.data,a=e.data.count;n({type:"PRODUCTREVIEW_FETCH_SUCCESS",payload:{productReviews:t,totalReview:a}})}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:"PRODUCTREVIEW_FETCH_FAIL",payload:a.t0.response&&a.t0.response.data.error?a.t0.response.data.error:a.t0.message});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(t,c))}),[H,A]),Object(n.useEffect)((function(){G&&c&&o(!1)}),[H,G]);return U?r.a.createElement("p",null,"Loding...."):W?r.a.createElement(ee,{header:"Something went wrong",message:W}):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(j.a,{md:6},r.a.createElement("h2",null,"Reviews(",x,")"),0===F.length&&r.a.createElement("h4",null,"No Reviews"),r.a.createElement(ie.a,{variant:"flush"},F.map((function(e){return r.a.createElement(ie.a.Item,{key:e._id},r.a.createElement("strong",null,e.userId.name),r.a.createElement(N,{value:e.rating}),r.a.createElement("p",null,e.createdAt.substring(0,10)),r.a.createElement("p",null,e.text))})),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Write a Customer Review"),P?r.a.createElement(O.a,{onSubmit:function(e){e.preventDefault(),H(function(e,t,a,n){return function(){var r=Object(w.a)(k.a.mark((function r(l,c){var o,u,i,s;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l({type:"CREATE_REVIEW_START"}),o=c(),u=o.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(u.token)}},s={title:t,text:a,rating:n},r.next=7,L.a.post("/api/v1/product/".concat(e,"/reviews"),s,i).then((function(e){l({type:"CREATE_REVIEW_SUCCESS"})}));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),l({type:"CREATE_REVIEW_FAIL",payload:r.t0.response&&r.t0.response.data.error?r.t0.response.data.error:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,s,h,y))}},r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",placeholder:"Write a title",required:!0,fullWidth:!0,id:"title",label:"Write a title",name:"title",autoComplete:"title",value:s,onChange:function(e){return m(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",placeholder:"Write a comment",required:!0,fullWidth:!0,id:"comment",label:"Write a comment",name:"comment",autoComplete:"comment",value:h,onChange:function(e){return g(e.target.value)}}),r.a.createElement(J.a,{variant:"outlined",className:T.formControl},r.a.createElement(z.a,{id:"demo-simple-select-outlined-label"},"Rating"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return b(Number(e.target.value))},label:"Rating",autoWidth:!0,value:y},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"1"},"1 - Poor"),r.a.createElement(Y.a,{value:"2"},"2 - Fair"),r.a.createElement(Y.a,{value:"3"},"3 - Good"),r.a.createElement(Y.a,{value:"4"},"4 - Very Good"),r.a.createElement(Y.a,{value:"5"},"5 - Excellent"))),r.a.createElement("div",{className:"my-3"},r.a.createElement($.a,{variant:"contained",color:"primary",type:"submit",disabled:D},D?r.a.createElement(se.a,{color:"inherit",className:T.prgressColor}):r.a.createElement(r.a.Fragment,null,"Submit")))):r.a.createElement(r.a.Fragment,null,"Please ",r.a.createElement(f.Link,{to:"/login"},"sign in")," to write a review"," "))))))},de=function(){return r.a.createElement(I.a,null,r.a.createElement(j.a,{md:6},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:350,width:"100%"}))),r.a.createElement(j.a,{md:3},r.a.createElement(ie.a,{variant:"flush"},Array(7).fill().map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null)))})))),r.a.createElement(j.a,{md:3},r.a.createElement(F.a,null,r.a.createElement(ie.a,{variant:"flush"},Array(4).fill().map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null)))})),r.a.createElement(ie.a.Item,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30})))))))},pe=function(e,t){return function(){var a=Object(w.a)(k.a.mark((function a(n,r){return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.get("/api/v1/product/".concat(e)).then((function(e){var a=e.data.data;n({type:"ADD_TO_CART_ITEM",payload:{productId:a._id,productName:a.name,productImage:a.productImage,price:a.price,countInStock:a.countInStock,qty:t}})}));case 3:localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems)),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:"ADD_TO_CART_FAIL",payload:a.t0.response&&a.t0.response.data.error?a.t0.response.data.error:a.t0.message});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e,t){return a.apply(this,arguments)}}()},fe=Object(G.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:85,top:-17,left:6,position:"absolute"},selectEmpty:{marginTop:e.spacing(2)}}})),he=function(e){var t=e.match,a=e.history,l=Object(n.useState)(1),c=Object(R.a)(l,2),o=c[0],u=c[1],s=Object(p.c)((function(e){return e.Product})),m=Object(p.c)((function(e){return e.createReview})).error,E=s.loading,d=s.product,h=s.error,g=fe(),v=Object(p.b)();Object(n.useEffect)((function(){v(U(t.params.productId))}),[v,t]);return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(ee,{header:"Opps!!!",message:m,reset:"CREATE_REVIEW_RESET"}),r.a.createElement(f.Link,{className:"btn btn-light my-3",to:"/"},"Go Back"),E?r.a.createElement(de,null):h?r.a.createElement(ee,{header:"Something went wrong",message:h}):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(j.a,{md:6},r.a.createElement(ue.a,{src:"https://shoppoint.herokuapp.com/".concat(d.productImage),alt:d.name,fluid:!0})),r.a.createElement(j.a,{md:3},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h3",null,d.name)),r.a.createElement(ie.a.Item,null,r.a.createElement(N,{value:d.averageRating,text:"".concat(d.Reviews?d.Reviews.length:0," reviews")})),r.a.createElement(ie.a.Item,null,"Price: $",d.price),r.a.createElement(ie.a.Item,null,"Description: ",d.description))),r.a.createElement(j.a,{md:3},r.a.createElement(F.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Price:"),r.a.createElement(j.a,null,r.a.createElement("strong",null,"$",d.price)))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Status:"),r.a.createElement(j.a,null,d.countInStock>0?"In Stock":"Out Of Stock"))),d.countInStock>0&&r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Qty"),r.a.createElement(j.a,null,r.a.createElement(J.a,{className:g.formControl},r.a.createElement(Q.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:function(e){return u(e.target.value)},label:"Qty",value:o},Object(i.a)(Array(d.countInStock).keys()).map((function(e){return r.a.createElement(Y.a,{key:e+1,value:e+1},e+1)}))))))),r.a.createElement(ie.a.Item,null,r.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){v(pe(t.params.productId,o)),a.push("/cart")},fullWidth:!0,disabled:0===d.countInStock},"Add To Cart")))))),r.a.createElement(Ee,{productId:t.params.productId})))},ge=function(e){var t=e.children;return r.a.createElement(g.a,null,r.a.createElement(I.a,{className:"justify-content-md-center"},r.a.createElement(j.a,{xs:12,md:6},t)))},ve=Object(G.a)((function(e){return{prgressColor:{color:"#fff"}}})),Se=function(e){var t=e.location,a=e.history,l=Object(n.useState)(""),c=Object(R.a)(l,2),o=c[0],u=c[1],i=Object(n.useState)(""),m=Object(R.a)(i,2),E=m[0],d=m[1],h=ve(),g=Object(p.c)((function(e){return e.userLogin})),v=g.userInfo,S=g.error,y=g.loading,b=t.search?t.search.split("=")[1]:"/",T=Object(p.b)();Object(n.useEffect)((function(){v&&a.push(b)}),[T,v,b,a]);return r.a.createElement(r.a.Fragment,null,S&&r.a.createElement(ee,{header:"Auth Error",message:S,reset:"RESET"}),r.a.createElement(ge,null,r.a.createElement("h1",null,"Sign In"),r.a.createElement(O.a,{onSubmit:function(e){e.preventDefault(),T(function(e,t){return function(){var a=Object(w.a)(k.a.mark((function a(n){var r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_AUTH_START"}),r={email:e,password:t},a.next=5,L.a.post("/api/v1/auth/login",r).then((function(e){var t=e.data.authData,a=e.data.token,r=Object(s.a)(Object(s.a)({},t),{},{token:a});localStorage.setItem("userInfo",JSON.stringify(r)),n({type:"USER_AUTH_SUCCESS",payload:r})}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"USER_AUTH_FAIL",payload:a.t0.response&&a.t0.response.data.error?a.t0.response.data.error:a.t0.message});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(o,E))}},r.a.createElement(q.a,{variant:"outlined",type:"email",margin:"normal",placeholder:"ex:- JohnDoe@gmail.com",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",margin:"normal",type:"password",placeholder:"***********",required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",value:E,autoComplete:"current-password",onChange:function(e){return d(e.target.value)}}),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:y},y?r.a.createElement(se.a,{color:"inherit",className:h.prgressColor}):r.a.createElement(r.a.Fragment,null,"Sign In"))),r.a.createElement(I.a,{className:"py-3"},r.a.createElement(j.a,null,"New Customer?",r.a.createElement(f.Link,{to:b?"/register?redirect=".concat(b):"/register"},"Register")),r.a.createElement(j.a,{className:"text-right"},r.a.createElement(f.Link,{to:"/forgotPasssword"},"Forgot Password")))))},ye=Object(G.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),be=function(e){var t=e.history,a=Object(p.c)((function(e){return e.cart})).cartItems,n=ye(),l=Object(p.b)(),c=function(e){l(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a,n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(I.a,null,r.a.createElement(j.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===a.length?r.a.createElement(r.a.Fragment,null,"Your cart is empty ",r.a.createElement(f.Link,{to:"/"},"Go Back")):r.a.createElement(ie.a,{variant:"flush"},a.map((function(e){return r.a.createElement(ie.a.Item,{key:e.productId},r.a.createElement(I.a,null,r.a.createElement(j.a,{md:2},r.a.createElement(ue.a,{src:"https://shoppoint.herokuapp.com/".concat(e.productImage),alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(j.a,{md:3},r.a.createElement(f.Link,{to:"/product/".concat(e.productId)},e.productName)),r.a.createElement(j.a,{md:2},"$",e.price),r.a.createElement(j.a,{md:2},r.a.createElement(J.a,{className:n.formControl},r.a.createElement(Q.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Qty",value:e.qty,onChange:function(t){return l(pe(e.productId,Number(t.target.value)))}},Object(i.a)(Array(e.countInStock).keys()).map((function(e){return r.a.createElement(Y.a,{key:e+1,value:e+1},e+1)}))))),r.a.createElement(j.a,{md:2},r.a.createElement($.a,{type:"button",variant:"light",onClick:function(){return c(e.productId)}},r.a.createElement("i",{className:"fas fa-trash"})))))})))),r.a.createElement(j.a,{md:4},r.a.createElement(F.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Subtotal (",a.reduce((function(e,t){return e+t.qty}),0),") items"),"$",a.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),r.a.createElement(ie.a.Item,null,r.a.createElement($.a,{type:"button",variant:"contained",color:"primary",onClick:function(){t.push("/login?redirect=shipping")},fullWidth:!0,disabled:0===a.length},"Proceed To Checkout"))))))},Re=a(107),Oe=function(e){var t=e.component,a=Object(Re.a)(e,["component"]),n=Object(p.c)((function(e){return e.userLogin})).userInfo;return r.a.createElement(h.d,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(h.c,{to:"/login"})}}))},Te=function(e){var t=e.component,a=Object(Re.a)(e,["component"]),n=Object(p.c)((function(e){return e.userLogin})).userInfo;return r.a.createElement(h.d,Object.assign({},a,{render:function(e){return n?"admin"!==n.role?r.a.createElement(h.c,{to:"/"}):r.a.createElement(t,e):r.a.createElement(h.c,{to:"/login"})}}))},_e=function(e){var t=e.step1,a=e.step2,n=e.step3;return r.a.createElement(S.a,{className:"justify-content-center mb-4"},r.a.createElement(S.a.Item,null,t?r.a.createElement(b.LinkContainer,{to:"/shipping"},r.a.createElement(S.a.Link,null,"Shipping")):r.a.createElement(S.a.Link,{disabled:!0},"Shipping")),r.a.createElement(S.a.Item,null,a?r.a.createElement(b.LinkContainer,{to:"/payment"},r.a.createElement(S.a.Link,null,"Payment")):r.a.createElement(S.a.Link,{disabled:!0},"Payment")),r.a.createElement(S.a.Item,null,n?r.a.createElement(b.LinkContainer,{to:"/placeorder"},r.a.createElement(S.a.Link,null,"Place Order")):r.a.createElement(S.a.Link,{disabled:!0},"Place Order")))},Ce=function(e){var t=e.history,a=Object(p.c)((function(e){return e.cart})),l=a.shippingAddress,c=a.cartItems,o=Object(n.useState)(l.address),u=Object(R.a)(o,2),i=u[0],s=u[1],m=Object(n.useState)(l.city),E=Object(R.a)(m,2),d=E[0],f=E[1],h=Object(n.useState)(l.postalCode),g=Object(R.a)(h,2),v=g[0],S=g[1],y=Object(n.useState)(l.country),b=Object(R.a)(y,2),T=b[0],_=b[1];0===c.length&&t.push("/");var C=Object(p.b)();return r.a.createElement(ge,null,r.a.createElement(_e,{step1:!0}),r.a.createElement("h1",null,"Shipping"),r.a.createElement(O.a,{onSubmit:function(e){var a;e.preventDefault(),C((a={address:i,city:d,postalCode:v,country:T},function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CART_SAVE_SHIPPING_ADDRESS",payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")}},r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"address",label:"Enter Address",name:"address",autoComplete:"address",autoFocus:!0,value:i,onChange:function(e){return s(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"city",label:"Enter City",name:"city",autoComplete:"city",autoFocus:!0,value:d,onChange:function(e){return f(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"postal code",label:"Enter postal code",name:"postal code",autoComplete:"postal code",autoFocus:!0,value:v,onChange:function(e){return S(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"country",label:"Enter country",name:"country",autoComplete:"country",autoFocus:!0,value:T,onChange:function(e){return _(e.target.value)}}),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Continue")))},Ie=a(195),je=a(256),Ae=a(253),De=function(e){var t=e.history;localStorage.getItem("shippingAddress")||t.push("/shipping");var a=Object(n.useState)("PayPal"),l=Object(R.a)(a,2),c=l[0],o=l[1],u=Object(p.b)();return r.a.createElement(ge,null,r.a.createElement(_e,{step1:!0,step2:!0}),r.a.createElement("h1",null,"Payment Method"),r.a.createElement(O.a,{onSubmit:function(e){var a;e.preventDefault(),u((a=c,function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CART_SAVE_PAYMENT_METHOD",payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder")}},r.a.createElement(J.a,{component:"fieldset"},r.a.createElement(Ie.a,{component:"legend"},"Select Method"),r.a.createElement(je.a,{"aria-label":"paymemtMethod",name:"paymemtMethod",value:c,onChange:function(e){return o(e.target.value)}},r.a.createElement(H.a,{value:"PayPal",control:r.a.createElement(Ae.a,{color:"primary"}),label:"PayPal or Credit Card"}))),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Continue")))},ke=a(244),we=a(136),Pe=function(){return r.a.createElement(ke.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,Array(7).fill().map((function(e,t){return r.a.createElement("th",{key:t},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:25})))})))),r.a.createElement("tbody",null,Array(7).fill().map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))}))))},Le=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.userLogin})).userInfo,a=Object(p.c)((function(e){return e.authOrders})),l=a.orders,c=a.loading,o=a.error;return Object(n.useEffect)((function(){e(function(){var e=Object(w.a)(k.a.mark((function e(t,a){var n,r,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"AUTH_ORDER_FETCH_START"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,L.a.get("/api/v1/order/authOrders",l).then((function(e){var a=e.data.data;t({type:"AUTH_ORDER_FETCH_SUCCESS",payload:a})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"AUTH_ORDER_FETCH_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e,t]),r.a.createElement(I.a,null,r.a.createElement(j.a,{md:3},r.a.createElement("h2",null,"Profile"),r.a.createElement(F.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Name:"),r.a.createElement(j.a,null,r.a.createElement("strong",null,t.name)))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Email:"),r.a.createElement(j.a,null,r.a.createElement("strong",null,t.email)))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Account:"),r.a.createElement(j.a,null,r.a.createElement("strong",null,t.verify?"Verified":"Not Verified"))))))),r.a.createElement(j.a,{md:9},r.a.createElement("h2",null,"My Orders"),c?r.a.createElement(Pe,null):o?r.a.createElement(ee,{header:"Something went wrong",message:o}):r.a.createElement(ke.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL PRICE"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(we.a,{className:"btn-sm",variant:"light"},"Details"))))}))))))},Ue=Object(G.a)((function(e){return{prgressColor:{color:"#fff"}}})),Fe=function(e){var t=e.history,a=Object(p.b)(),l=Ue(),c=Object(p.c)((function(e){return e.cart})),o=function(e){return(Math.round(100*e)/100).toFixed(2)};c.itemsPrice=o(c.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),c.shippingPrice=o(c.itemsPrice>100?0:100),c.taxPrice=o(Number((.15*c.itemsPrice).toFixed(2))),c.totalPrice=(Number(c.itemsPrice)+Number(c.shippingPrice)+Number(c.taxPrice)).toFixed(2);var u=Object(p.c)((function(e){return e.createOrder})),i=u.order,s=u.success,m=u.error,E=u.loading;Object(n.useEffect)((function(){s&&t.push("/order/".concat(i._id))}),[t,s]);return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(ee,{header:"Create Order Error",message:m,reset:"CREATE_ORDER_RESET"}),r.a.createElement(_e,{step1:!0,step2:!0,step3:!0}),r.a.createElement(I.a,null,r.a.createElement(j.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:"),c.shippingAddress.address,", ",c.shippingAddress.city," ",c.shippingAddress.postalCode,","," ",c.shippingAddress.country)),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("strong",null,"Method: "),c.paymentMethod),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===c.cartItems.length?r.a.createElement(r.a.Fragment,null,"Your cart is empty"):r.a.createElement(ie.a,{variant:"flush"},c.cartItems.map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(I.a,null,r.a.createElement(j.a,{md:1},r.a.createElement(ue.a,{src:"https://shoppoint.herokuapp.com/".concat(e.productImage),alt:e.productName,fluid:!0,rounded:!0})),r.a.createElement(j.a,null,r.a.createElement(f.Link,{to:"/product/".concat(e.productId)},e.productName)),r.a.createElement(j.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(j.a,{md:4},r.a.createElement(F.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Items"),r.a.createElement(j.a,null,"$",c.itemsPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Shipping"),r.a.createElement(j.a,null,"$",c.shippingPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Tax"),r.a.createElement(j.a,null,"$",c.taxPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Total"),r.a.createElement(j.a,null,"$",c.totalPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:0===c.cartItems||E,onClick:function(){var e;a((e={orderItems:c.cartItems,shipping:c.shippingAddress,payment:{paymentMethod:c.paymentMethod},itemsPrice:c.itemsPrice,shippingPrice:c.shippingPrice,taxPrice:c.taxPrice,totalPrice:c.totalPrice},function(){var t=Object(w.a)(k.a.mark((function t(a,n){var r,l,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_ORDER_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.post("/api/v1/order/",e,c).then((function(e){var t=e.data.data;a({type:"CREATE_ORDER_SUCCESS",payload:t})}));case 6:localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("paymentMethod"),a({type:"CART_RESET"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"CREATE_ORDER_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()))}},E?r.a.createElement(se.a,{color:"inherit",className:l.prgressColor}):r.a.createElement(r.a.Fragment,null,"Place Order"))))))))},xe=function(){var e=Object(p.c)((function(e){return e.orderList})),t=e.orders,a=e.loading,l=e.error,c=e.count,o=Object(p.b)();return Object(n.useEffect)((function(){o(function(){var e=Object(w.a)(k.a.mark((function e(t,a){var n,r,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDERLIST_FETCH_START"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,L.a.get("/api/v1/order/",l).then((function(e){var a=e.data.results,n=e.data.count;t({type:"ORDERLIST_FETCH_SUCCESS",payload:{data:a,totalOrders:n}})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"ORDERLIST_FETCH_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}())}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Orders(",c,")"),a?r.a.createElement(Pe,null):l?r.a.createElement(ee,{header:"Something went wrong",message:l}):r.a.createElement(ke.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.user&&e.user.name),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(we.a,{variant:"light",className:"btn-sm"},"Details"))))})))))},Ne=a(247),We=function(e){var t=e.header,a=e.message,l=e.reset,c=Object(n.useState)(!0),o=Object(R.a)(c,2),u=o[0],i=o[1],s=Object(p.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"fixed",right:"0",zIndex:"20180210"}},r.a.createElement(Z.a,{onClose:function(){i(!1),s({type:l})},show:u,delay:3e3,autohide:!0,className:"animate__animated animate__shakeX"},r.a.createElement(Z.a.Header,{style:{background:"#43BE31",color:"white",fontWeight:"bold"}},r.a.createElement("strong",{className:"mr-auto"},t)),r.a.createElement(Z.a.Body,null,a))))},Ge=a(52),He=(a(90),Object(G.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:330,top:6,left:-4},selectEmpty:{marginTop:e.spacing(2)},prgressColor:{color:"#fff"}}}))),Ve=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.productList})),a=t.loading,l=t.products,c=t.count,o=t.error,u=t.success,i=Object(p.c)((function(e){return e.deleteProduct})),s=i.success,m=i.error,E=Object(p.c)((function(e){return e.createProductDetails})),d=E.success,f=E.error,h=E.loading,v=He(),S=Object(n.useState)(""),y=Object(R.a)(S,2),T=y[0],_=y[1],C=Object(n.useState)(""),A=Object(R.a)(C,2),D=A[0],P=A[1],U=Object(n.useState)(""),F=Object(R.a)(U,2),x=F[0],N=F[1],W=Object(n.useState)(""),G=Object(R.a)(W,2),H=G[0],V=G[1],M=Object(n.useState)(""),B=Object(R.a)(M,2),K=B[0],X=B[1],Z=Object(n.useState)(0),te=Object(R.a)(Z,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),le=Object(R.a)(re,2),ce=le[0],oe=le[1],ue=Object(n.useState)(!1),ie=Object(R.a)(ue,2),me=ie[0],Ee=ie[1],de=Object(n.useState)(!0),pe=Object(R.a)(de,2),fe=pe[0],he=pe[1];Object(n.useEffect)((function(){d&&(Ee(!1),_(""),P(""),N(""),V(""),X(""),ne(""),oe(""),e({type:"CREATE_PRODUCT_RESET"})),e(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e&&a({type:"PRODUCTLIST_FETCH_START"}),t.next=4,L.a.get("/api/v1/product/").then((function(e){var t=e.data.data.results,n=e.data.data.count;a({type:"PRODUCTLIST_FETCH_SUCCESS",payload:{productList:t,totalProduct:n}})}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"PRODUCTLIST_FETCH_ERROR",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(fe))}),[e,s,d]),Object(n.useEffect)((function(){u&&fe&&he(!1)}),[e,u]);var ge=function(){Ee(!1)},ve=function(t){if(t.preventDefault(),""!==T&&""!==K&&""!==D&&""!==ce&&""!==x&&""!==H&&""!==ae){var a=new FormData;a.append("name",T),a.append("productImage",D),a.append("brand",x),a.append("price",H),a.append("category",K),a.append("countInStock",ae),a.append("description",ce),e(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a,n){var r,l,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_PRODUCT_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.post("/api/v1/product/",e,c).then((function(e){a({type:"CREATE_PRODUCT_SUCCESS"})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"CREATE_PRODUCT_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))}},Se=function(t,a){a.preventDefault(),Object(Ge.confirmAlert)({customUI:function(a){var n=a.onClose;return r.a.createElement("div",{className:"custom-ui"},r.a.createElement("h1",{className:"font-weight-bold text-white"},"Are you sure?"),r.a.createElement("p",null,"You want to delete this product?"),r.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){e(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a,n){var r,l,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_PRODUCT_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.delete("/api/v1/product/".concat(e),c).then((function(e){a({type:"DELETE_PRODUCT_SUCCESS"})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"DELETE_PRODUCT_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(t)),n()}},"Yes, Delete it !"),r.a.createElement($.a,{variant:"contained",color:"primary",onClick:n},"No"))}})};return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(We,{header:"Done",message:"Product Deleted Successfully",reset:"DELETE_PRODUCT_RESET"}),m&&r.a.createElement(ee,{header:"Something went wrong",message:m,reset:"DELETE_PRODUCT_RESET"}),r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement("h1",null,"Products(",c,")")),r.a.createElement(j.a,{className:"text-right"},r.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){return Ee(!0)}},r.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),a?r.a.createElement(Pe,null):o?r.a.createElement(ee,{header:"Something went wrong",message:o}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"BRAND"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},r.a.createElement(we.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(we.a,{variant:"danger",className:"btn-sm",onClick:function(t){return Se(e._id,t)}},r.a.createElement("i",{className:"fas fa-trash"}))))}))))),function(){if(me)return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{show:me,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Ne.a.Header,null,r.a.createElement(Ne.a.Title,{id:"contained-modal-title-vcenter"},"Add Product")),f&&r.a.createElement(ee,{header:"Something went wrong",message:f,reset:"CREATE_PRODUCT_RESET"}),r.a.createElement(O.a,{onSubmit:ve},r.a.createElement(Ne.a.Body,{className:"show-grid"},r.a.createElement(g.a,null,r.a.createElement(I.a,null,r.a.createElement(j.a,{xs:12,md:6},r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:T,onChange:function(e){return _(e.target.value)}})),r.a.createElement(j.a,{xs:12,md:6},r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"brand",label:"Brand",name:"brand",autoComplete:"brand",autoFocus:!0,value:x,onChange:function(e){return N(e.target.value)}}))),r.a.createElement(I.a,null,r.a.createElement(j.a,{xs:12,md:6},r.a.createElement(q.a,{variant:"outlined",type:"number",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",autoComplete:"price",autoFocus:!0,value:H,onChange:function(e){return V(Number(e.target.value))}})),r.a.createElement(j.a,{xs:12,md:6},r.a.createElement(q.a,{variant:"outlined",type:"number",margin:"normal",required:!0,fullWidth:!0,id:"countInStock",label:"CountInStock",name:"countInStock",autoComplete:"countInStock",autoFocus:!0,value:ae,onChange:function(e){return ne(Number(e.target.value))}}))),r.a.createElement(I.a,null,r.a.createElement(j.a,{xs:12,md:6},r.a.createElement(q.a,{variant:"outlined",type:"file",margin:"normal",required:!0,fullWidth:!0,id:"file",name:"file",autoComplete:"file",autoFocus:!0,onChange:function(e){return P(e.target.files[0])}})),r.a.createElement(j.a,{xs:12,md:6},r.a.createElement(J.a,{variant:"outlined",className:v.formControl},r.a.createElement(z.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return X(e.target.value)},label:"Category",value:K},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"Shirt"},"T-shirt"),r.a.createElement(Y.a,{value:"Pants"},"Pant"),r.a.createElement(Y.a,{value:"Vest"},"Vest"))))),r.a.createElement(I.a,null,r.a.createElement(j.a,{xs:12,md:12},r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"description",autoFocus:!0,value:ce,multiline:!0,rows:5,onChange:function(e){return oe(e.target.value)}}))))),r.a.createElement(Ne.a.Footer,null,r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",className:"mr-2",disabled:h},h?r.a.createElement(se.a,{color:"inherit",className:v.prgressColor}):r.a.createElement(r.a.Fragment,null,"Submit"))," ",r.a.createElement($.a,{variant:"contained",color:"primary",onClick:ge},"Close")))))}())},qe=function(){var e=Object(p.b)(),t=Object(n.useState)(!0),a=Object(R.a)(t,2),l=a[0],c=a[1],o=Object(p.c)((function(e){return e.userList})),u=o.loading,i=o.users,s=o.count,m=o.error,E=o.success,d=Object(p.c)((function(e){return e.userDeleteDetails})),f=d.success,h=d.error;Object(n.useEffect)((function(){e(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a,n){var r,l,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e&&a({type:"USERLIST_FETCH_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.get("/api/v1/user",c).then((function(e){var t=e.data.data.results,n=e.data.data.count;a({type:"USERLIST_FETCH_SUCCESS",payload:{userList:t,totalUser:n}})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"USERLIST_FETCH_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(l))}),[e,f]),Object(n.useEffect)((function(){E&&l&&c(!1)}),[e,E]);var g=function(t,a){a.preventDefault(),Object(Ge.confirmAlert)({customUI:function(a){var n=a.onClose;return r.a.createElement("div",{className:"custom-ui"},r.a.createElement("h1",{className:"font-weight-bold text-white"},"Are you sure?"),r.a.createElement("p",null,"You want to delete this user?"),r.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){e(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a,n){var r,l,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DELETE_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.delete("/api/v1/user/".concat(e),c).then((function(e){a({type:"USER_DELETE_SUCCESS"})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"USER_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(t)),n()}},"Yes, Delete it !"),r.a.createElement($.a,{variant:"contained",color:"primary",onClick:n},"No"))}})};return r.a.createElement(r.a.Fragment,null,f&&r.a.createElement(We,{header:"Done",message:"User Deleted Successfully",reset:"USER_DELETE_RESET"}),h&&r.a.createElement(ee,{header:"Something went wrong",message:h,reset:"USER_DELETE_RESET"}),r.a.createElement("h1",null,"Users(",s,")"),u?r.a.createElement(Pe,null):m?r.a.createElement(ee,{header:"Something went wrong",message:m}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),r.a.createElement("td",null,e.role),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},r.a.createElement(we.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(we.a,{variant:"danger",className:"btn-sm",onClick:function(t){return g(e._id,t)}},r.a.createElement("i",{className:"fas fa-trash"}))))}))))))},Me=a(106),Be=a.n(Me),$e=Object(G.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},prgressColor:{color:"#fff"}}})),ze=function(e){var t=e.match.params.userId,a=Object(p.c)((function(e){return e.userUpdateDetails})),l=a.loading,c=a.error,o=a.success,u=Object(p.c)((function(e){return e.userDetails})),i=u.loading,s=u.user,m=u.error,E=u.success,d=Object(n.useState)(""),g=Object(R.a)(d,2),v=g[0],S=g[1],y=Object(n.useState)(""),b=Object(R.a)(y,2),T=b[0],_=b[1],C=Object(n.useState)(""),I=Object(R.a)(C,2),j=I[0],A=I[1],D=Object(n.useState)(!1),P=Object(R.a)(D,2),U=P[0],F=P[1],x=$e(),N=Object(p.b)();Object(n.useEffect)((function(){var e;N((e=t,function(){var t=Object(w.a)(k.a.mark((function t(a,n){var r,l,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_FETCH_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.get("/api/v1/user/".concat(e),c).then((function(e){var t=e.data.data;a({type:"USER_FETCH_SUCCESS",payload:t})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"USER_FETCH_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[N,t]),Object(n.useEffect)((function(){E&&(S(s.name),_(s.email),A(s.role))}),[N,E]);return r.a.createElement(r.a.Fragment,null,U&&r.a.createElement(h.c,{to:"/admin/userList"}),c&&r.a.createElement(ee,{header:"Something went wrong",message:c,reset:"USER_EDIT_RESET"}),r.a.createElement(f.Link,{to:"/admin/userList",className:"btn btn-light my-3"},"Go Back"),i?r.a.createElement("h4",null,"Loading..."):m?r.a.createElement(ee,{header:"Something went wrong",message:m}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null,r.a.createElement("h1",null,"Edit User"),r.a.createElement(O.a,{onSubmit:function(e){var a,n;e.preventDefault(),N((a=t,n={name:v,email:T,role:j},function(){var e=Object(w.a)(k.a.mark((function e(t,r){var l,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_EDIT_START"}),l=r(),c=l.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,L.a.put("/api/v1/user/".concat(a),n,o).then((function(e){t({type:"USER_EDIT_SUCCESS"})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"USER_EDIT_FAIL",payload:e.t0.response&&e.t0.response.data.error?e.t0.response.data.error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:v,onChange:function(e){return S(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",type:"email",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"brand",autoFocus:!0,value:T,onChange:function(e){return _(e.target.value)}}),r.a.createElement(J.a,{variant:"outlined",className:x.formControl},r.a.createElement(z.a,{id:"demo-simple-select-outlined-label"},"Role"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return A(e.target.value)},label:"Role",value:j},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"user"},"User"),r.a.createElement(Y.a,{value:"admin"},"Admin"))),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:l,className:x.prgressColor},l?r.a.createElement(se.a,{color:"inherit"}):r.a.createElement(r.a.Fragment,null,"Update")))),function(){if(o)return Object(Ge.confirmAlert)({customUI:function(e){var t=e.onClose;return r.a.createElement("div",{className:"custom-ui-alert"},r.a.createElement("div",{className:"success-img"},r.a.createElement("img",{src:Be.a,alt:"confirmationImg"})),r.a.createElement("h3",{className:"font-weight-bold text"},"User updated successfully"),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){t(),N({type:"USER_EDIT_RESET"}),F(!0)}},"OK"))}})}()))},Ye=Object(G.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},prgressColor:{color:"#fff"}}})),Je=function(e){var t=e.match.params.productId,a=Object(p.c)((function(e){return e.Product})),l=a.loading,c=a.product,o=a.error,u=a.success,i=Object(p.c)((function(e){return e.updateProductDetails})),s=i.loading,m=i.error,E=i.success,d=Object(n.useState)(""),g=Object(R.a)(d,2),v=g[0],S=g[1],y=Object(n.useState)(""),b=Object(R.a)(y,2),T=b[0],_=b[1],C=Object(n.useState)(0),I=Object(R.a)(C,2),j=I[0],A=I[1],D=Object(n.useState)(""),P=Object(R.a)(D,2),F=P[0],x=P[1],N=Object(n.useState)(0),W=Object(R.a)(N,2),G=W[0],H=W[1],V=Object(n.useState)(""),M=Object(R.a)(V,2),B=M[0],K=M[1],X=Object(n.useState)(!1),Z=Object(R.a)(X,2),te=Z[0],ae=Z[1],ne=Ye(),re=Object(p.b)();Object(n.useEffect)((function(){re(U(t))}),[re,t]),Object(n.useEffect)((function(){u&&(S(c.name),A(c.price),_(c.brand),x(c.category),H(c.countInStock),K(c.description))}),[re,u]);return r.a.createElement(r.a.Fragment,null,te&&r.a.createElement(h.c,{to:"/admin/productList"}),m&&r.a.createElement(ee,{header:"Something went wrong",message:m,reset:"EDIT_PRODUCT_RESET"}),r.a.createElement(f.Link,{to:"/admin/productlist",className:"btn btn-light my-3"},"Go Back"),l?r.a.createElement("h4",null,"Loading..."):o?r.a.createElement(ee,{header:"Something went wrong",message:o}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null,r.a.createElement("h1",null,"Edit Product"),r.a.createElement(O.a,{onSubmit:function(e){var a,n;e.preventDefault(),re((a=t,n={name:v,brand:T,price:j,category:F,countInStock:G,description:B},function(){var e=Object(w.a)(k.a.mark((function e(t,r){var l,c,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"EDIT_PRODUCT_START"}),l=r(),c=l.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,L.a.put("/api/v1/product/".concat(a),n,o).then((function(e){t({type:"EDIT_PRODUCT_SUCCESS",payload:"Product updated successfully"})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"EDIT_PRODUCT_FAIL",payload:e.t0.response&&e.t0.response.data.error?e.t0.response.data.error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:v,onChange:function(e){return S(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"brand",label:"Brand",name:"brand",autoComplete:"brand",autoFocus:!0,value:T,onChange:function(e){return _(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",type:"number",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",autoComplete:"price",autoFocus:!0,value:j,onChange:function(e){return A(Number(e.target.value))}}),r.a.createElement(q.a,{variant:"outlined",type:"number",margin:"normal",required:!0,fullWidth:!0,id:"countInStock",label:"CountInStock",name:"countInStock",autoComplete:"countInStock",autoFocus:!0,value:G,onChange:function(e){return H(Number(e.target.value))}}),r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"description",autoFocus:!0,value:B,multiline:!0,rows:5,onChange:function(e){return K(e.target.value)}}),r.a.createElement(J.a,{variant:"outlined",className:ne.formControl},r.a.createElement(z.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return x(e.target.value)},label:"Category",value:F},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"Shirt"},"T-shirt"),r.a.createElement(Y.a,{value:"Pants"},"Pant"),r.a.createElement(Y.a,{value:"Vest"},"Vest"))),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:s},s?r.a.createElement(se.a,{color:"inherit",className:ne.prgressColor}):r.a.createElement(r.a.Fragment,null,"Update")))),function(){if(E)return Object(Ge.confirmAlert)({customUI:function(e){var t=e.onClose;return r.a.createElement("div",{className:"custom-ui-alert"},r.a.createElement("div",{className:"success-img"},r.a.createElement("img",{src:Be.a,alt:"confirmationImg"})),r.a.createElement("h3",{className:"font-weight-bold text"},"Product updated successfully"),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){t(),re({type:"EDIT_PRODUCT_RESET"}),ae(!0)}},"OK"))}})}()))},Qe=a(145),Ke=a(245),Xe=function(e){var t=e.variant,a=e.children;return r.a.createElement(Ke.a,{variant:t},a)};Xe.defaultProps={variant:"info"};var Ze=Xe,et=a(246),tt=function(){return r.a.createElement(et.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading..."))},at=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," ",r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(I.a,null,r.a.createElement(j.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("p",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("p",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("p",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30}))),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("p",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30}))),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null," ",r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,{md:1},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(j.a,{md:4},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))))))),r.a.createElement(j.a,{md:4},r.a.createElement(F.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null)))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(j.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))),r.a.createElement(ie.a.Item,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30}))),r.a.createElement(ie.a.Item,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30}))))))))},nt=function(e){var t=e.match.params.orderId,a=Object(n.useState)(!1),l=Object(R.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(!0),i=Object(R.a)(u,2),s=i[0],m=i[1],E=Object(p.b)(),d=Object(p.c)((function(e){return e.orderDetails})),h=d.order,g=d.loading,v=d.error,S=d.success,y=Object(p.c)((function(e){return e.orderPay})),b=y.loading,O=y.success,T=Object(p.c)((function(e){return e.orderDeliver})),_=T.loading,C=T.success,A=Object(p.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){var e=function(){var e=Object(w.a)(k.a.mark((function e(){var t,a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){o(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h&&!h.isPaid&&(window.paypal?o(!0):e())}),[E,t,O,C,h]),Object(n.useEffect)((function(){E({type:"ORDER_PAY_RESET"}),E({type:"ORDER_DELIVER_RESET"}),E(function(e,t){return function(){var a=Object(w.a)(k.a.mark((function a(n,r){var l,c,o;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&n({type:"GET_ORDER_START"}),l=r(),c=l.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},a.next=6,L.a.get("/api/v1/order/".concat(e),o).then((function(e){var t=e.data.data;n({type:"GET_ORDER_SUCCESS",payload:t})}));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"GET_ORDER_FAIL",payload:a.t0.response&&a.t0.response.data.error?a.t0.response.data.error:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,s))}),[E,O,C]),Object(n.useEffect)((function(){S&&s&&m(!1)}),[E,S]);return g?r.a.createElement(at,null):v?r.a.createElement(ee,{header:"Something went wrong",message:v}):r.a.createElement(r.a.Fragment,null,h?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Order ",h._id),r.a.createElement(I.a,null,r.a.createElement(j.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: ")," ",h.userId.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: ")," ",r.a.createElement("a",{href:"mailto:".concat(h.userId.email)},h.userId.email)),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:")," ",h.shipping.address,",",h.shipping.city," ",h.shipping.postalCode,","," ",h.shipping.country),h.isDelivered?r.a.createElement(Ze,{variant:"success"},"Delivered on ",h.deliveredAt):r.a.createElement(Ze,{variant:"danger"},"Not Delivered")),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method: "),h.payment?h.payment.paymentMethod:""),h.isPaid?r.a.createElement(Ze,{variant:"success"},"Paid on ",h.paidAt):r.a.createElement(Ze,{variant:"danger"},"Not Paid")),h.orderItems?r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===h.orderItems.length?r.a.createElement(Ze,null,"Order is empty"):r.a.createElement(ie.a,{variant:"flush"},h.orderItems.map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(I.a,null,r.a.createElement(j.a,{md:1},r.a.createElement(ue.a,{src:"https://shoppoint.herokuapp.com/".concat(e.productImage),alt:e.productName,fluid:!0,rounded:!0})),r.a.createElement(j.a,null,r.a.createElement(f.Link,{to:"/product/".concat(e.productId)},e.productName)),r.a.createElement(j.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))):"")),r.a.createElement(j.a,{md:4},r.a.createElement(F.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Items"),r.a.createElement(j.a,null,"$",h.itemsPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Shipping"),r.a.createElement(j.a,null,"$",h.shippingPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Tax"),r.a.createElement(j.a,null,"$",h.taxPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(j.a,null,"Total"),r.a.createElement(j.a,null,"$",h.totalPrice))),!h.isPaid&&r.a.createElement(ie.a.Item,null,b&&r.a.createElement(tt,null),c?r.a.createElement(Qe.PayPalButton,{amount:h.totalPrice,onSuccess:function(e){E(function(e,t){return function(){var a=Object(w.a)(k.a.mark((function a(n,r){var l,c,o;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"ORDER_PAY_START"}),l=r(),c=l.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},a.next=6,L.a.post("/api/v1/order/".concat(e,"/pay"),t,o).then((function(e){var t=e.data.data;n({type:"ORDER_PAY_SUCCESS",payload:t})}));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"ORDER_PAY_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,e))}}):r.a.createElement(tt,null)),_&&r.a.createElement(tt,null),A&&"admin"===A.role&&h.isPaid&&!h.isDelivered&&r.a.createElement(ie.a.Item,null,r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(){E(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a,n){var r,l,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DILIVERD_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.post("/api/v1/order/".concat(e,"/deliver"),{},c).then((function(e){var t=e.data.data;a({type:"ORDER_DILIVERD_SUCCESS",payload:t})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"ORDER_DILIVERD_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(h._id))}},"Mark As Delivered"))))))):"")},rt=function(){var e=Object(p.b)();return Object(n.useEffect)((function(){e((function(e){localStorage.removeItem("userInfo"),e({type:"RESET"})}))}),[e]),r.a.createElement(h.c,{to:"/"})},lt=Object(G.a)((function(e){return{prgressColor:{color:"#fff"}}})),ct=function(e){var t=e.location,a=e.history,l=Object(n.useState)(""),c=Object(R.a)(l,2),o=c[0],u=c[1],i=Object(n.useState)(""),s=Object(R.a)(i,2),m=s[0],E=s[1],d=Object(n.useState)(""),h=Object(R.a)(d,2),g=h[0],v=h[1],S=Object(n.useState)(""),y=Object(R.a)(S,2),b=y[0],T=y[1],_=Object(n.useState)(""),C=Object(R.a)(_,2),A=C[0],D=C[1],P=lt(),U=Object(p.c)((function(e){return e.userRegister})),F=U.error,x=U.loading,N=U.message,W=U.success,G=Object(p.b)(),H=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){W&&setTimeout((function(){var e=H?"/EmailVerification?redirect=".concat(H):"/EmailVerification";a.push(e)}),5e3)}),[W,a,H]);var V=function(e){if(e.preventDefault(),E(""),b!==A)return E("Passwords do not match");G(function(e,t,a){return function(){var n=Object(w.a)(k.a.mark((function n(r){var l;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"USER_REGISTER_START"}),l={name:e,email:t,password:a},n.next=5,L.a.post("/api/v1/auth/register",l).then((function(e){var t=e.data.message;r({type:"USER_REGISTER_SUCCESS",payload:t})}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:"USER_REGISTER_FAIL",payload:n.t0.response&&n.t0.response.data.error?n.t0.response.data.error:n.t0.message});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(o,g,b))};return r.a.createElement(ge,null,r.a.createElement("h1",null,"Sign Up"),F&&r.a.createElement(ee,{header:"Auth Error",message:F,reset:"USER_REGISTER_RESET"}),""!==m&&r.a.createElement(ee,{header:"Auth Error",message:m}),W&&r.a.createElement(We,{header:"Register SuccessFully",message:N,reset:"USER_REGISTER_RESET"}),r.a.createElement(O.a,{onSubmit:V},r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"User Name",name:"name",autoComplete:"email",autoFocus:!0,value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",type:"email",margin:"normal",placeholder:"ex:- JohnDoe@gmail.com",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:g,onChange:function(e){return v(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",margin:"normal",type:"password",placeholder:"***********",required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",value:b,autoComplete:"current-password",onChange:function(e){return T(e.target.value)}}),r.a.createElement(q.a,{variant:"outlined",margin:"normal",type:"password",placeholder:"***********",required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",value:A,autoComplete:"current-password",onChange:function(e){return D(e.target.value)}}),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:V,disabled:x},x?r.a.createElement(se.a,{color:"inherit",className:P.prgressColor}):r.a.createElement(r.a.Fragment,null,"Register"))),r.a.createElement(I.a,{className:"py-3"},r.a.createElement(j.a,null,"Have an Account?"," ",r.a.createElement(f.Link,{to:H?"/login?redirect=".concat(H):"/login"},"Login"))))},ot=Object(G.a)((function(e){return{prgressColor:{color:"#fff"}}})),ut=function(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],l=t[1],c=ot(),o=Object(p.c)((function(e){return e.forgotPasswordDetails})),u=o.loading,i=o.error,s=o.message,m=o.success,E=Object(p.b)();return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(ee,{header:"Auth Error",message:i,reset:"FORGOT_PASSWORD_SEND_RSET"}),m&&r.a.createElement(We,{header:"Done",message:s,reset:"FORGOT_PASSWORD_SEND_RSET"}),r.a.createElement(ge,null,r.a.createElement("h1",null,"Forgot Password"),r.a.createElement(O.a,null,r.a.createElement(q.a,{variant:"outlined",type:"email",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Your Email",name:"email",autoComplete:"email",autoFocus:!0,value:a,onChange:function(e){return l(e.target.value)}}),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(e){e.preventDefault(),E(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FORGOT_PASSWORD_SEND_START"}),t.next=4,L.a.post("/api/v1/auth/forgotPassword",e).then((function(e){var t=e.data.message;a({type:"FORGOT_PASSWORD_SEND_SUCCESS",payload:t})}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"FORGOT_PASSWORD_SEND_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}({email:a}))},disabled:u},u?r.a.createElement(se.a,{color:"inherit",className:c.prgressColor}):r.a.createElement(r.a.Fragment,null,"Send Request")))))},it=Object(G.a)((function(e){return{prgressColor:{color:"#fff"}}})),st=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(R.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),i=Object(R.a)(u,2),s=i[0],m=i[1],E=it(),d=Object(p.c)((function(e){return e.resetPasswordDetails})),f=d.loading,h=d.error,g=d.message,v=d.success,S=Object(p.b)();Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search),a=e.get("token")?e.get("token").trim():null;a?m(a):t.push("/login")}),[S,s,t]),Object(n.useEffect)((function(){v&&setTimeout((function(){t.push("/login")}),3e3)}),[S,v,t]);return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(ee,{header:"Auth Error",message:h,reset:"FORGOT_PASSWORD_SEND_RSET"}),v&&r.a.createElement(We,{header:"Done",message:g,reset:"FORGOT_PASSWORD_SEND_RSET"}),r.a.createElement(ge,null,r.a.createElement("h1",null,"Reset Password"),r.a.createElement(O.a,null,r.a.createElement(q.a,{variant:"outlined",type:"password",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"New Password",name:"password",autoComplete:"password",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(e){var t;e.preventDefault(),S((t={newPassword:c,token:s},function(){var e=Object(w.a)(k.a.mark((function e(a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"RESET_PASSWORD_START"}),e.next=4,L.a.post("/api/v1/auth/resetPassword",t).then((function(e){var t=e.data.message;a({type:"RESET_PASSWORD_SUCCESS",payload:t})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a({type:"RESET_PASSWORD_FAIL",payload:e.t0.response&&e.t0.response.data.error?e.t0.response.data.error:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))},disabled:f},f?r.a.createElement(se.a,{color:"inherit",className:E.prgressColor}):r.a.createElement(r.a.Fragment,null,"Reset")))))},mt=Object(G.a)((function(e){return{prgressColor:{color:"#fff"}}})),Et=function(e){var t=e.location,a=e.history,l=Object(n.useState)(""),c=Object(R.a)(l,2),o=c[0],u=c[1],i=mt(),m=Object(p.c)((function(e){return e.userLogin})),E=m.userInfo,d=m.error,f=m.loading,h=t.search?t.search.split("=")[1]:"/",g=Object(p.b)();Object(n.useEffect)((function(){E&&a.push(h)}),[g,E,h,a]);return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(ee,{header:"Auth Error",message:d,reset:"RESET"}),r.a.createElement(ge,null,r.a.createElement("h1",null,"Email Verification"),r.a.createElement(O.a,null,r.a.createElement(q.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"code",label:"Verification Code",name:"code",autoComplete:"code",autoFocus:!0,value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement($.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(e){e.preventDefault(),g(function(e){return function(){var t=Object(w.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_AUTH_START"}),n={verificationCode:e},t.next=5,L.a.post("/api/v1/auth/verifyEmail",n).then((function(e){var t=e.data.authData,n=e.data.token,r=Object(s.a)(Object(s.a)({},t),{},{token:n});localStorage.setItem("userInfo",JSON.stringify(r)),a({type:"USER_AUTH_SUCCESS",payload:r})}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"USER_AUTH_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(o))},disabled:f},f?r.a.createElement(se.a,{color:"inherit",className:i.prgressColor}):r.a.createElement(r.a.Fragment,null,"Verify")))))};var dt=function(){return r.a.createElement(f.BrowserRouter,null,r.a.createElement(C,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(g.a,null,r.a.createElement(h.g,null,r.a.createElement(h.d,{exact:!0,path:"/",component:oe}),r.a.createElement(h.d,{exact:!0,path:"/product/:productId",component:he}),r.a.createElement(h.d,{exact:!0,path:"/login",component:Se}),r.a.createElement(h.d,{exact:!0,path:"/cart",component:be}),r.a.createElement(h.d,{exact:!0,path:"/forgotPasssword",component:ut}),r.a.createElement(h.d,{exact:!0,path:"/resetPassword",component:st}),r.a.createElement(Oe,{exact:!0,path:"/shipping",component:Ce}),r.a.createElement(Oe,{exact:!0,path:"/payment",component:De}),r.a.createElement(Oe,{exact:!0,path:"/placeOrder",component:Fe}),r.a.createElement(Oe,{exact:!0,path:"/order/:orderId",component:nt}),r.a.createElement(Oe,{exact:!0,path:"/profile",component:Le}),r.a.createElement(Te,{exact:!0,path:"/admin/orderList",component:xe}),r.a.createElement(Te,{exact:!0,path:"/admin/productList",component:Ve}),r.a.createElement(Te,{exact:!0,path:"/admin/product/:productId/edit",component:Je}),r.a.createElement(Te,{exact:!0,path:"/admin/userList",component:qe}),r.a.createElement(Te,{exact:!0,path:"/admin/user/:userId/edit",component:ze}),r.a.createElement(h.d,{exact:!0,path:"/register",component:ct}),r.a.createElement(h.d,{exact:!0,path:"/EmailVerification",component:Et}),r.a.createElement(h.d,{exact:!0,path:"/logout",component:rt})))),r.a.createElement(A,null))},pt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ft(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:d},r.a.createElement(dt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");pt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ft(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ft(t,e)}))}}()}},[[159,1,2]]]);
//# sourceMappingURL=main.2edcd357.chunk.js.map