(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/confirmation.31a737c5.png"},122:function(e,t,a){},162:function(e,t,a){e.exports=a(197)},171:function(e,t,a){},172:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(78),u=a(134),i=a(38),s=a(31),m=Object(o.c)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTLIST_FETCH_START":return{loading:!0,products:[]};case"PRODUCTLIST_FETCH_SUCCESS":return{products:t.payload.productList,count:t.payload.totalProduct,success:!0};case"PRODUCTLIST_FETCH_ERROR":return{error:t.payload};default:return e}},Product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_FETCH_START":return{loading:!0,product:{}};case"PRODUCT_FETCH_SUCCESS":return{product:t.payload,success:!0};case"PRODUCT_FETCH_FAIL":return{error:t.payload};default:return e}},productReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{productReviews:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTREVIEW_FETCH_START":return{loading:!0,productReviews:[]};case"PRODUCTREVIEW_FETCH_SUCCESS":return{productReviews:t.payload.productReviews,count:t.payload.totalReview,success:!0};case"PRODUCT_FETCH_FAIL":return{error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_AUTH_START":return{loading:!0};case"USER_AUTH_SUCCESS":return{userInfo:t.payload,success:!0};case"USER_AUTH_FAIL":return{error:t.payload};case"RESET":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_START":return{loading:!0};case"USER_REGISTER_SUCCESS":return{message:t.payload,success:!0};case"USER_REGISTER_FAIL":return{error:t.payload};case"USER_REGISTER_RESET":return{};default:return e}},createReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_REVIEW_START":return{loading:!0};case"CREATE_REVIEW_SUCCESS":return{success:!0};case"CREATE_REVIEW_FAIL":return{error:t.payload};case"CREATE_REVIEW_RESET":return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.productId===a.productId}));return n?Object(s.a)(Object(s.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.productId===n.productId?a:e}))}):Object(s.a)(Object(s.a)({},e),{},{cartItems:[].concat(Object(i.a)(e.cartItems),[a])});case"CART_REMOVE_ITEM":return Object(s.a)(Object(s.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.productId!==t.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(s.a)(Object(s.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(s.a)(Object(s.a)({},e),{},{paymentMethod:t.payload});case"CART_RESET":return{cartItems:[],shippingAddress:{},paymentMethod:""};default:return e}},createOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_ORDER_START":return{loading:!0};case"CREATE_ORDER_SUCCESS":return{order:t.payload,success:!0};case"CREATE_ORDER_FAIL":return{error:t.payload};case"CREATE_ORDER_RESET":return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ORDER_START":return{loading:!0};case"GET_ORDER_SUCCESS":return{order:t.payload,success:!0};case"GET_ORDER_FAIL":return{error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_START":return{loading:!0};case"ORDER_PAY_SUCCESS":return{success:!0};case"ORDER_PAY_FAIL":return{error:t.payload};case"ORDER_PAY_RESET":return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DILIVERD_START":return{loading:!0};case"ORDER_DILIVERD_SUCCESS":return{success:!0};case"ORDER_DILIVERD_FAIL":return{error:t.payload};case"ORDER_DELIVER_RESET":return{};default:return e}},authOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_ORDER_FETCH_START":return{loading:!0};case"AUTH_ORDER_FETCH_SUCCESS":return{success:!0,orders:t.payload,count:t.total};case"AUTH_ORDER_FETCH_FAIL":return{error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERLIST_FETCH_START":return{loading:!0};case"ORDERLIST_FETCH_SUCCESS":return{success:!0,orders:t.payload.data,count:t.payload.totalOrders};case"ORDERLIST_FETCH_FAIL":return{error:t.payload};default:return e}},deleteProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_PRODUCT_START":return{loading:!0};case"DELETE_PRODUCT_SUCCESS":return{success:!0};case"DELETE_PRODUCT_FAIL":return{error:t.payload};case"DELETE_PRODUCT_RESET":return{};default:return e}},createProductDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PRODUCT_START":return{loading:!0};case"CREATE_PRODUCT_SUCCESS":return{success:!0};case"CREATE_PRODUCT_FAIL":return{error:t.payload};case"CREATE_PRODUCT_RESET":return{};default:return e}},updateProductDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_PRODUCT_START":return{loading:!0};case"EDIT_PRODUCT_SUCCESS":return{success:!0};case"EDIT_PRODUCT_FAIL":return{error:t.payload};case"EDIT_PRODUCT_RESET":return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERLIST_FETCH_START":return{loading:!0};case"USERLIST_FETCH_SUCCESS":return{users:t.payload.userList,count:t.payload.totalUser,success:!0};case"USERLIST_FETCH_FAIL":return{error:t.payload};default:return e}},userDeleteDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_START":return{loading:!0};case"USER_DELETE_SUCCESS":return{success:!0};case"USER_DELETE_FAIL":return{error:t.payload};case"USER_DELETE_RESET":return{};default:return e}},userUpdateDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_EDIT_START":return{loading:!0};case"USER_EDIT_SUCCESS":return{success:!0};case"USER_EDIT_FAIL":return{error:t.payload};case"USER_EDIT_RESET":return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_FETCH_START":return{loading:!0};case"USER_FETCH_SUCCESS":return{success:!0,user:t.payload};case"USER_FETCH_FAIL":return{error:t.payload};case"USER_FETCH_RESET":return{};default:return e}},forgotPasswordDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT_PASSWORD_SEND_START":return{loading:!0};case"FORGOT_PASSWORD_SEND_SUCCESS":return{success:!0,message:t.payload};case"FORGOT_PASSWORD_SEND_FAIL":return{error:t.payload};case"FORGOT_PASSWORD_SEND_RSET":return{};default:return e}},resetPasswordDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_PASSWORD_START":return{loading:!0};case"RESET_PASSWORD_SUCCESS":return{success:!0,message:t.payload};case"RESET_PASSWORD_FAIL":return{error:t.payload};case"RESET_PASSWORD_RESET":return{};default:return e}}}),d={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):""},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},E=Object(o.d)(m,d,Object(o.a)(u.a)),p=a(6),f=(a(171),a(172),a(16)),h=a(25),g=a(233),v=a(256),y=a(234),S=a(252),b=a(26),O=a(10),T=a(254),R=a(136),C=(a(122),function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],l=t[1],c=Object(h.k)();return r.a.createElement(T.a,{inline:!0,onSubmit:function(e){e.preventDefault(),""!==a?c.push("/?search=".concat(a)):c.push("/")}},r.a.createElement(R.a,{type:"text",name:"seacrh",onChange:function(e){return l(e.target.value)},placeholder:"Search product...",className:"mr-sm-2"}),r.a.createElement("i",{className:"fas fa-search"}))}),_=function(){var e=Object(p.c)((function(e){return e.userLogin})),t=Object(p.c)((function(e){return e.cart})).cartItems,a=e.userInfo;return r.a.createElement("header",null,r.a.createElement(v.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0},r.a.createElement(g.a,null,r.a.createElement(b.LinkContainer,{to:"/"},r.a.createElement(v.a.Brand,null,"ShopPoint")),r.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(C,null),r.a.createElement(y.a,{className:"ml-auto"},r.a.createElement(b.LinkContainer,{to:"/cart"},r.a.createElement(y.a.Link,null,r.a.createElement("i",{className:"fas fa-shopping-cart"})," ",t.length>0&&r.a.createElement("span",{className:"cart"},t.reduce((function(e,t){return e+t.qty}),0)))),a?r.a.createElement(S.a,{title:a.name,id:"username"},r.a.createElement(b.LinkContainer,{to:"/profile"},r.a.createElement(S.a.Item,null,"Profile")),r.a.createElement(b.LinkContainer,{to:"/logout"},r.a.createElement(S.a.Item,null,"Logout"))):r.a.createElement(b.LinkContainer,{to:"/login"},r.a.createElement(y.a.Link,null,r.a.createElement("i",{className:"fas fa-user"})," Sign In")),a&&"admin"===a.role&&r.a.createElement(S.a,{title:"Admin",id:"adminMenu"},r.a.createElement(b.LinkContainer,{to:"/admin/userList"},r.a.createElement(S.a.Item,null,"Users")),r.a.createElement(b.LinkContainer,{to:"/admin/productList"},r.a.createElement(S.a.Item,null,"Products")),r.a.createElement(b.LinkContainer,{to:"/admin/orderList"},r.a.createElement(S.a.Item,null,"Orders"))))))))},I=a(235),A=a(137),D=function(){return r.a.createElement("footer",null,r.a.createElement(g.a,null,r.a.createElement(I.a,null,r.a.createElement(A.a,{className:"text-center py-3"},"Copyright \xa9 ShopPoint"))))},j=a(12),w=a.n(j),k=a(18),P=a(20),L=a.n(P),x=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_FETCH_START"}),t.next=4,L.a.get("/api/v1/product/".concat(e)).then((function(e){var t=e.data.data;a({type:"PRODUCT_FETCH_SUCCESS",payload:t})}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"PRODUCT_FETCH_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},N=a(261),U=function(e){var t=e.value,a=e.text,n=e.color;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})),r.a.createElement("span",null,a&&a))};U.defaultProps={color:"#f8e825"};var F=U,W=(a(113),function(e){var t=e.product;return r.a.createElement(N.a,{className:"my-3 p-3 rounded  animate__animated animate__fadeInUp"},r.a.createElement(f.Link,{to:"/product/".concat(t._id)},r.a.createElement(N.a.Img,{src:t.productImage,variant:"top"})),r.a.createElement(N.a.Body,null,r.a.createElement(f.Link,{to:"/product/".concat(t._id)},r.a.createElement(N.a.Title,{as:"div"},r.a.createElement("strong",null,t.name))),r.a.createElement(N.a.Text,{as:"div"},r.a.createElement(F,{value:t.averageRating,text:"".concat(t.Reviews?t.Reviews.length:0," reviews")})),r.a.createElement(N.a.Text,{as:"h3"},"$",t.price)))}),B=a(236),G=a(241),H=a(259),V=a(265),M=a(253),q=a(198),z=a(239),$=a(243),Y=a(263),J=a(242),Q=a(255),K=Object(B.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120,top:-24},selectEmpty:{marginTop:e.spacing(2)}}}));var X=function(e){var t=e.setCategory,a=e.sort,l=e.handleSort,c=e.setPriceRange,o=e.setLtORgt,u=e.ltORgt,i=e.handlePriceRange,s=K(),m=Object(n.useState)(null),d=Object(O.a)(m,2),E=d[0],p=d[1],f=Boolean(E),h=f?"simple-popover":void 0;return r.a.createElement("div",null,r.a.createElement(z.a,{"aria-describedby":h,variant:"contained",color:"primary",onClick:function(e){p(e.currentTarget)}},"Filter"),r.a.createElement(M.a,{id:h,open:f,anchorEl:E,onClose:function(){p(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(q.a,{className:s.typography},r.a.createElement("h6",null,"Sort By"),r.a.createElement(G.a,{control:r.a.createElement(H.a,{checked:!!a.includes("name"),color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"name",onChange:function(e){return l(e.target.value)}}),label:"Name"}),r.a.createElement(G.a,{control:r.a.createElement(H.a,{checked:!!a.includes("price"),color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"price",onChange:function(e){return l(e.target.value)}}),label:"Price"}),r.a.createElement(G.a,{control:r.a.createElement(H.a,{checked:!!a.includes("averageRating"),color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"averageRating",onChange:function(e){return l(e.target.value)}}),label:"Rating"}),r.a.createElement(J.a,{variant:"outlined",className:s.formControl},r.a.createElement($.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return t(e.target.value)},label:"Category"},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"Shirt"},"T-shirt"),r.a.createElement(Y.a,{value:"Pants"},"Pant"),r.a.createElement(Y.a,{value:"Vest"},"Vest"))),r.a.createElement("div",{className:"mt-4 mb-4"},r.a.createElement(V.a,{autoComplete:"priceRange",name:"priceRange",variant:"outlined",type:"number",required:!0,id:"priceRange",placeholder:"Price Range",label:"Price Range",onChange:function(e){return c(e.target.value)}})," ",r.a.createElement(G.a,{control:r.a.createElement(H.a,{checked:"lt"===u,color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"lt",onChange:function(e){return o(e.target.value)}}),label:"Less than"}),r.a.createElement(G.a,{control:r.a.createElement(H.a,{checked:"gte"===u,color:"primary",inputProps:{"aria-label":"secondary checkbox"},value:"gte",onChange:function(e){return o(e.target.value)}}),label:"Greater Or equal to"})),r.a.createElement("div",null,r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:i},"Done")))))},Z=a(258),ee=function(e){var t=e.header,a=e.message,l=e.reset,c=Object(n.useState)(!0),o=Object(O.a)(c,2),u=o[0],i=o[1],s=Object(p.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"fixed",right:"0",zIndex:"20180210"}},r.a.createElement(Z.a,{onClose:function(){l&&s({type:l}),i(!1)},show:u,delay:3e3,autohide:!0,className:"animate__animated animate__shakeX"},r.a.createElement(Z.a.Header,{style:{background:"red",color:"white",fontWeight:"bold"}},r.a.createElement("strong",{className:"mr-auto"},t)),r.a.createElement(Z.a.Body,null,a))))},te=a(8),ae=a.n(te),ne=function(){return r.a.createElement(I.a,null,Array(8).fill().map((function(e,t){return r.a.createElement(A.a,{key:t,sm:12,md:6,lg:4,xl:3},r.a.createElement(N.a,{className:"my-3 p-3 rounded"},r.a.createElement(N.a.Body,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:180,width:"100%"}),r.a.createElement("br",null),r.a.createElement(ae.a,{width:"60%"}),r.a.createElement("br",null),r.a.createElement(ae.a,{width:"90%"})))))})))},re=a(144),le=function(e){var t=e.title,a=e.description,n=e.keywords;return r.a.createElement(re.a,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"description",content:a}),r.a.createElement("meta",{name:"keyword",content:n}))};le.defaultProps={title:"Welcome To ShopPoint",description:"We sell the best products for cheap",keywords:"clothes, buy readyMadeClothes, cheap latest clothes"};var ce=le,oe=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(O.a)(c,2),u=o[0],i=o[1],s=Object(n.useState)(""),m=Object(O.a)(s,2),d=m[0],E=m[1],h=Object(n.useState)(""),g=Object(O.a)(h,2),v=g[0],y=g[1],S=Object(n.useState)(!0),b=Object(O.a)(S,2),T=b[0],R=b[1],C=Object(p.c)((function(e){return e.productList})),_=C.loading,D=C.products,j=C.count,P=C.error,x=C.success,N=new URLSearchParams(window.location.search),U=N.get("search")?N.get("search").trim():"",F=Object(p.b)();Object(n.useEffect)((function(){B()}),[F,U,a,u]);var B=function(){F(function(e,t,a,n,r,l){return function(){var c=Object(k.a)(w.a.mark((function c(o){var u;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r&&o({type:"PRODUCTLIST_FETCH_START"}),u=[t.length>0?"sort=".concat(t.join(",")):"",""!==e?"&keyWord=".concat(e):"",""!==a?"&category=".concat(a):"",""!==n?"&price[".concat(l,"]=").concat(Number(n)):""],c.next=5,L.a.get("/api/v1/product/?".concat(u.join(""))).then((function(e){var t=e.data.data.results,a=e.data.data.count;o({type:"PRODUCTLIST_FETCH_SUCCESS",payload:{productList:t,totalProduct:a}})}));case 5:c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),o({type:"PRODUCTLIST_FETCH_ERROR",payload:c.t0.response&&c.t0.response.data.error?c.t0.response.data.error:c.t0.message});case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()}(U,a,u,d,T,v))};Object(n.useEffect)((function(){x&&T&&R(!1)}),[F,x]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null),_?r.a.createElement(ne,null):P?r.a.createElement(ee,{header:"Something went wrong",message:P}):r.a.createElement(r.a.Fragment,null,U?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.Link,{to:"/",className:"btn btn-light"},"Go Back"),r.a.createElement("h1",null,"Search Products for ",U,"(",j,")")):r.a.createElement("div",{className:"clearfix"},r.a.createElement("span",{className:"float-left"},r.a.createElement("h1",null,"Latest Products (",j,")")),r.a.createElement("span",{className:"float-right"}," ",r.a.createElement(X,{setCategory:i,sort:a,handleSort:function(e){a.includes(e)?l(a.filter((function(t){return t!==e}))):l((function(t){return t.concat(e)}))},setPriceRange:E,setLtORgt:y,ltORgt:v,handlePriceRange:function(){""!==d&&""!==v&&B()}}))),0===D.length&&r.a.createElement("h4",null,"No Products"),r.a.createElement(I.a,null,D.map((function(e){return r.a.createElement(A.a,{key:e._id,sm:12,md:6,lg:4,xl:3},r.a.createElement(W,{product:e}))})))))},ue=a(247),ie=a(262),se=a(246),me=Object(B.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:200},selectEmpty:{marginTop:e.spacing(2)},prgressColor:{color:"#fff"}}})),de=function(e){var t=e.productId,a=Object(n.useState)(!0),l=Object(O.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),i=Object(O.a)(u,2),s=i[0],m=i[1],d=Object(n.useState)(""),E=Object(O.a)(d,2),h=E[0],g=E[1],v=Object(n.useState)(""),y=Object(O.a)(v,2),S=y[0],b=y[1],R=me(),C=Object(p.c)((function(e){return e.productReview})),_=Object(p.c)((function(e){return e.createReview})),D=_.success,j=_.loading,P=Object(p.c)((function(e){return e.userLogin})).userInfo,x=C.loading,N=C.productReviews,U=C.count,W=C.error,B=C.success,G=Object(p.b)();Object(n.useEffect)((function(){D&&(m(""),g(""),b(""),G({type:"CREATE_REVIEW_RESET"})),G(function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&n({type:"PRODUCTREVIEW_FETCH_START"}),a.next=4,L.a.get("/api/v1/product/".concat(e,"/reviews")).then((function(e){var t=e.data.data,a=e.data.count;n({type:"PRODUCTREVIEW_FETCH_SUCCESS",payload:{productReviews:t,totalReview:a}})}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:"PRODUCTREVIEW_FETCH_FAIL",payload:a.t0.response&&a.t0.response.data.error?a.t0.response.data.error:a.t0.message});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(t,c))}),[G,D]),Object(n.useEffect)((function(){B&&c&&o(!1)}),[G,B]);return x?r.a.createElement("p",null,"Loding...."):W?r.a.createElement(ee,{header:"Something went wrong",message:W}):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(A.a,{md:6},r.a.createElement("h2",null,"Reviews(",U,")"),0===N.length&&r.a.createElement("h4",null,"No Reviews"),r.a.createElement(ie.a,{variant:"flush"},N.map((function(e){return r.a.createElement(ie.a.Item,{key:e._id},r.a.createElement("strong",null,e.userId.name),r.a.createElement(F,{value:e.rating}),r.a.createElement("p",null,e.createdAt.substring(0,10)),r.a.createElement("p",null,e.text))})),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Write a Customer Review"),P?r.a.createElement(T.a,{onSubmit:function(e){e.preventDefault(),G(function(e,t,a,n){return function(){var r=Object(k.a)(w.a.mark((function r(l,c){var o,u,i,s;return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,l({type:"CREATE_REVIEW_START"}),o=c(),u=o.userLogin.userInfo,i={headers:{Authorization:"Bearer ".concat(u.token)}},s={title:t,text:a,rating:n},r.next=7,L.a.post("/api/v1/product/".concat(e,"/reviews"),s,i).then((function(e){l({type:"CREATE_REVIEW_SUCCESS"})}));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),l({type:"CREATE_REVIEW_FAIL",payload:r.t0.response&&r.t0.response.data.error?r.t0.response.data.error:r.t0.message});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,s,h,S))}},r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",placeholder:"Write a title",required:!0,fullWidth:!0,id:"title",label:"Write a title",name:"title",autoComplete:"title",value:s,onChange:function(e){return m(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",placeholder:"Write a comment",required:!0,fullWidth:!0,id:"comment",label:"Write a comment",name:"comment",autoComplete:"comment",value:h,onChange:function(e){return g(e.target.value)}}),r.a.createElement(J.a,{variant:"outlined",className:R.formControl},r.a.createElement($.a,{id:"demo-simple-select-outlined-label"},"Rating"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return b(Number(e.target.value))},label:"Rating",autoWidth:!0,value:S},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"1"},"1 - Poor"),r.a.createElement(Y.a,{value:"2"},"2 - Fair"),r.a.createElement(Y.a,{value:"3"},"3 - Good"),r.a.createElement(Y.a,{value:"4"},"4 - Very Good"),r.a.createElement(Y.a,{value:"5"},"5 - Excellent"))),r.a.createElement("div",{className:"my-3"},r.a.createElement(z.a,{variant:"contained",color:"primary",type:"submit",disabled:j},j?r.a.createElement(se.a,{color:"inherit",className:R.prgressColor}):r.a.createElement(r.a.Fragment,null,"Submit")))):r.a.createElement(r.a.Fragment,null,"Please ",r.a.createElement(f.Link,{to:"/login"},"sign in")," to write a review"," "))))))},Ee=function(){return r.a.createElement(I.a,null,r.a.createElement(A.a,{md:6},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:350,width:"100%"}))),r.a.createElement(A.a,{md:3},r.a.createElement(ie.a,{variant:"flush"},Array(7).fill().map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null)))})))),r.a.createElement(A.a,{md:3},r.a.createElement(N.a,null,r.a.createElement(ie.a,{variant:"flush"},Array(4).fill().map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null)))})),r.a.createElement(ie.a.Item,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30})))))))},pe=function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n,r){return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.a.get("/api/v1/product/".concat(e)).then((function(e){var a=e.data.data;n({type:"ADD_TO_CART_ITEM",payload:{productId:a._id,productName:a.name,productImage:a.productImage,price:a.price,countInStock:a.countInStock,qty:t}})}));case 3:localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems)),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:"ADD_TO_CART_FAIL",payload:a.t0.response&&a.t0.response.data.error?a.t0.response.data.error:a.t0.message});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e,t){return a.apply(this,arguments)}}()},fe=Object(B.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:85,top:-17,left:6,position:"absolute"},selectEmpty:{marginTop:e.spacing(2)}}})),he=function(e){var t=e.match,a=e.history,l=Object(n.useState)(1),c=Object(O.a)(l,2),o=c[0],u=c[1],s=Object(p.c)((function(e){return e.Product})),m=Object(p.c)((function(e){return e.createReview})).error,d=s.loading,E=s.product,h=s.error,g=fe(),v=Object(p.b)();Object(n.useEffect)((function(){v(x(t.params.productId))}),[v,t]);return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(ee,{header:"Opps!!!",message:m,reset:"CREATE_REVIEW_RESET"}),r.a.createElement(f.Link,{className:"btn btn-light my-3",to:"/"},"Go Back"),d?r.a.createElement(Ee,null):h?r.a.createElement(ee,{header:"Something went wrong",message:h}):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(A.a,{md:6},r.a.createElement(ue.a,{src:E.productImage,alt:E.name,fluid:!0})),r.a.createElement(A.a,{md:3},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h3",null,E.name)),r.a.createElement(ie.a.Item,null,r.a.createElement(F,{value:E.averageRating,text:"".concat(E.Reviews?E.Reviews.length:0," reviews")})),r.a.createElement(ie.a.Item,null,"Price: $",E.price),r.a.createElement(ie.a.Item,null,"Description: ",E.description))),r.a.createElement(A.a,{md:3},r.a.createElement(N.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Price:"),r.a.createElement(A.a,null,r.a.createElement("strong",null,"$",E.price)))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Status:"),r.a.createElement(A.a,null,E.countInStock>0?"In Stock":"Out Of Stock"))),E.countInStock>0&&r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Qty"),r.a.createElement(A.a,null,r.a.createElement(J.a,{className:g.formControl},r.a.createElement(Q.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:function(e){return u(e.target.value)},label:"Qty",value:o},Object(i.a)(Array(E.countInStock).keys()).map((function(e){return r.a.createElement(Y.a,{key:e+1,value:e+1},e+1)}))))))),r.a.createElement(ie.a.Item,null,r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){v(pe(t.params.productId,o)),a.push("/cart")},fullWidth:!0,disabled:0===E.countInStock},"Add To Cart")))))),r.a.createElement(de,{productId:t.params.productId})))},ge=function(e){var t=e.children;return r.a.createElement(g.a,null,r.a.createElement(I.a,{className:"justify-content-md-center"},r.a.createElement(A.a,{xs:12,md:6},t)))},ve=Object(B.a)((function(e){return{prgressColor:{color:"#fff"}}})),ye=function(e){var t=e.location,a=e.history,l=Object(n.useState)(""),c=Object(O.a)(l,2),o=c[0],u=c[1],i=Object(n.useState)(""),m=Object(O.a)(i,2),d=m[0],E=m[1],h=ve(),g=Object(p.c)((function(e){return e.userLogin})),v=g.userInfo,y=g.error,S=g.loading,b=t.search?t.search.split("=")[1]:"/",R=Object(p.b)();Object(n.useEffect)((function(){v&&a.push(b)}),[R,v,b,a]);return r.a.createElement(r.a.Fragment,null,y&&r.a.createElement(ee,{header:"Auth Error",message:y,reset:"RESET"}),r.a.createElement(ge,null,r.a.createElement("h1",null,"Sign In"),r.a.createElement(T.a,{onSubmit:function(e){e.preventDefault(),R(function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n){var r;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_AUTH_START"}),r={email:e,password:t},a.next=5,L.a.post("/api/v1/auth/login",r).then((function(e){var t=e.data.authData,a=e.data.token,r=Object(s.a)(Object(s.a)({},t),{},{token:a});localStorage.setItem("userInfo",JSON.stringify(r)),n({type:"USER_AUTH_SUCCESS",payload:r})}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n({type:"USER_AUTH_FAIL",payload:a.t0.response&&a.t0.response.data.error?a.t0.response.data.error:a.t0.message});case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(o,d))}},r.a.createElement(V.a,{variant:"outlined",type:"email",margin:"normal",placeholder:"ex:- JohnDoe@gmail.com",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",type:"password",placeholder:"***********",required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",value:d,autoComplete:"current-password",onChange:function(e){return E(e.target.value)}}),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:S},S?r.a.createElement(se.a,{color:"inherit",className:h.prgressColor}):r.a.createElement(r.a.Fragment,null,"Sign In"))),r.a.createElement(I.a,{className:"py-3"},r.a.createElement(A.a,null,"New Customer?",r.a.createElement(f.Link,{to:b?"/register?redirect=".concat(b):"/register"},"Register")),r.a.createElement(A.a,{className:"text-right"},r.a.createElement(f.Link,{to:"/forgotPasssword"},"Forgot Password")))))},Se=Object(B.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),be=function(e){var t=e.history,a=Object(p.c)((function(e){return e.cart})).cartItems,n=Se(),l=Object(p.b)(),c=function(e){l(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return r.a.createElement(I.a,null,r.a.createElement(A.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===a.length?r.a.createElement(r.a.Fragment,null,"Your cart is empty ",r.a.createElement(f.Link,{to:"/"},"Go Back")):r.a.createElement(ie.a,{variant:"flush"},a.map((function(e){return r.a.createElement(ie.a.Item,{key:e.productId},r.a.createElement(I.a,null,r.a.createElement(A.a,{md:2},r.a.createElement(ue.a,{src:e.productImage,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(A.a,{md:3},r.a.createElement(f.Link,{to:"/product/".concat(e.productId)},e.productName)),r.a.createElement(A.a,{md:2},"$",e.price),r.a.createElement(A.a,{md:2},r.a.createElement(J.a,{className:n.formControl},r.a.createElement(Q.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Qty",value:e.qty,onChange:function(t){return l(pe(e.productId,Number(t.target.value)))}},Object(i.a)(Array(e.countInStock).keys()).map((function(e){return r.a.createElement(Y.a,{key:e+1,value:e+1},e+1)}))))),r.a.createElement(A.a,{md:2},r.a.createElement(z.a,{type:"button",variant:"light",onClick:function(){return c(e.productId)}},r.a.createElement("i",{className:"fas fa-trash"})))))})))),r.a.createElement(A.a,{md:4},r.a.createElement(N.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Subtotal (",a.reduce((function(e,t){return e+t.qty}),0),") items"),"$",a.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),r.a.createElement(ie.a.Item,null,r.a.createElement(z.a,{type:"button",variant:"contained",color:"primary",onClick:function(){t.push("/login?redirect=shipping")},fullWidth:!0,disabled:0===a.length},"Proceed To Checkout"))))))},Oe=a(111),Te=function(e){var t=e.component,a=Object(Oe.a)(e,["component"]),n=Object(p.c)((function(e){return e.userLogin})).userInfo;return r.a.createElement(h.d,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(h.c,{to:"/login"})}}))},Re=function(e){var t=e.component,a=Object(Oe.a)(e,["component"]),n=Object(p.c)((function(e){return e.userLogin})).userInfo;return r.a.createElement(h.d,Object.assign({},a,{render:function(e){return n?"admin"!==n.role?r.a.createElement(h.c,{to:"/"}):r.a.createElement(t,e):r.a.createElement(h.c,{to:"/login"})}}))},Ce=function(e){var t=e.step1,a=e.step2,n=e.step3;return r.a.createElement(y.a,{className:"justify-content-center mb-4"},r.a.createElement(y.a.Item,null,t?r.a.createElement(b.LinkContainer,{to:"/shipping"},r.a.createElement(y.a.Link,null,"Shipping")):r.a.createElement(y.a.Link,{disabled:!0},"Shipping")),r.a.createElement(y.a.Item,null,a?r.a.createElement(b.LinkContainer,{to:"/payment"},r.a.createElement(y.a.Link,null,"Payment")):r.a.createElement(y.a.Link,{disabled:!0},"Payment")),r.a.createElement(y.a.Item,null,n?r.a.createElement(b.LinkContainer,{to:"/placeorder"},r.a.createElement(y.a.Link,null,"Place Order")):r.a.createElement(y.a.Link,{disabled:!0},"Place Order")))},_e=function(e){var t=e.history,a=Object(p.c)((function(e){return e.cart})),l=a.shippingAddress,c=a.cartItems,o=Object(n.useState)(l.address),u=Object(O.a)(o,2),i=u[0],s=u[1],m=Object(n.useState)(l.city),d=Object(O.a)(m,2),E=d[0],f=d[1],h=Object(n.useState)(l.postalCode),g=Object(O.a)(h,2),v=g[0],y=g[1],S=Object(n.useState)(l.country),b=Object(O.a)(S,2),R=b[0],C=b[1];0===c.length&&t.push("/");var _=Object(p.b)();return r.a.createElement(ge,null,r.a.createElement(Ce,{step1:!0}),r.a.createElement("h1",null,"Shipping"),r.a.createElement(T.a,{onSubmit:function(e){var a;e.preventDefault(),_((a={address:i,city:E,postalCode:v,country:R},function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CART_SAVE_SHIPPING_ADDRESS",payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")}},r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"address",label:"Enter Address",name:"address",autoComplete:"address",autoFocus:!0,value:i,onChange:function(e){return s(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"city",label:"Enter City",name:"city",autoComplete:"city",autoFocus:!0,value:E,onChange:function(e){return f(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"postal code",label:"Enter postal code",name:"postal code",autoComplete:"postal code",autoFocus:!0,value:v,onChange:function(e){return y(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"country",label:"Enter country",name:"country",autoComplete:"country",autoFocus:!0,value:R,onChange:function(e){return C(e.target.value)}}),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Continue")))},Ie=a(199),Ae=a(260),De=a(257),je=function(e){var t=e.history;localStorage.getItem("shippingAddress")||t.push("/shipping");var a=Object(n.useState)("PayPal"),l=Object(O.a)(a,2),c=l[0],o=l[1],u=Object(p.b)();return r.a.createElement(ge,null,r.a.createElement(Ce,{step1:!0,step2:!0}),r.a.createElement("h1",null,"Payment Method"),r.a.createElement(T.a,{onSubmit:function(e){var a;e.preventDefault(),u((a=c,function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CART_SAVE_PAYMENT_METHOD",payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder")}},r.a.createElement(J.a,{component:"fieldset"},r.a.createElement(Ie.a,{component:"legend"},"Select Method"),r.a.createElement(Ae.a,{"aria-label":"paymemtMethod",name:"paymemtMethod",value:c,onChange:function(e){return o(e.target.value)}},r.a.createElement(G.a,{value:"PayPal",control:r.a.createElement(De.a,{color:"primary"}),label:"PayPal or Credit Card"}))),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Continue")))},we=a(248),ke=a(139),Pe=function(){return r.a.createElement(we.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,Array(7).fill().map((function(e,t){return r.a.createElement("th",{key:t},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:25})))})))),r.a.createElement("tbody",null,Array(7).fill().map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("td",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))}))))},Le=Object(B.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),xe=function(e){var t=e.printAs,a=Le();return r.a.createElement(J.a,{variant:"outlined",className:a.formControl},r.a.createElement($.a,{id:"demo-simple-select-outlined-label"},"Print"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return t(e)},label:"Print",autoWidth:!0},r.a.createElement(Y.a,{value:"pdf"},"Print as pdf"),r.a.createElement(Y.a,{value:"excel"},"Print as excel")))},Ne=a(51),Ue=a.n(Ne),Fe=a(75),We=a.n(Fe);Ue.a.vfs=We.a.pdfMake.vfs;var Be=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.userLogin})).userInfo,a=Object(p.c)((function(e){return e.authOrders})),l=a.orders,c=a.loading,o=a.error,u=a.count;Object(n.useEffect)((function(){e(function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"AUTH_ORDER_FETCH_START"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,L.a.get("/api/v1/order/authOrders",l).then((function(e){var a=e.data.data,n=e.data.count;t({type:"AUTH_ORDER_FETCH_SUCCESS",payload:a,total:n})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"AUTH_ORDER_FETCH_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e,t]);return r.a.createElement(I.a,null,r.a.createElement(A.a,{md:3},r.a.createElement("h2",null,"Profile"),r.a.createElement(N.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Name:"),r.a.createElement(A.a,null,r.a.createElement("strong",null,t.name)))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Email:"),r.a.createElement(A.a,null,r.a.createElement("strong",null,t.email)))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Account:"),r.a.createElement(A.a,null,r.a.createElement("strong",null,t.verify?"Verified":"Not Verified"))))))),r.a.createElement(A.a,{md:9},r.a.createElement("div",{className:"clearfix"},r.a.createElement("span",{className:"float-left"},r.a.createElement("h1",null,"My Orders (",u,")")),r.a.createElement("span",{className:"float-right"}," ",r.a.createElement(xe,{printAs:function(e){switch(e.target.value){case"pdf":var a={content:[{table:{widths:["auto","*"],body:[[{text:"SHOPPOINT",style:"mainheader",bold:!0,marginTop:10},{width:"*",style:"usersOrders",marginBottom:30,stack:[{style:"h2",text:"Name: ".concat(t.name)},{style:"h2",text:"Email: ".concat(t.email)}]}]]},layout:{hLineWidth:function(e){return 1===e},vLineWidth:function(){return 0},paddingBottom:function(){return 5}}},{style:"header",table:{widths:"*",body:[[{border:["#5bc0de",!1,!1,!1],text:"Order Details"}]]}},l.length>0?{layout:{hLineWidth:function(){return 0},vLineWidth:function(){return 0},paddingBottom:function(){return 5}},table:{headerRows:1,body:[[{text:"S.No",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"ID",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"DATE",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"TOTAL PRICE",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"PAID",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"DELIVERED",bold:!0,fillColor:"#2B2B52",color:"white"}]].concat(Object(i.a)(l.map((function(e,t){return[t+1,e._id,e.createdAt.substring(0,10),e.totalPrice,e.isPaid?e.paidAt.substring(0,10):"Not paid",e.isDelivered?e.deliveredAt.substring(0,10):"Not paid"]}))))},fontSize:10,alignment:"center"}:null],styles:{header:{fontSize:12,marginBottom:20,marginTop:20,bold:!0},mainheader:{fontSize:15},usersOrders:{marginLeft:315},h2:{marginTop:5,fontSize:7}}};Ue.a.createPdf(a).download("orders.pdf")}}}))),c?r.a.createElement(Pe,null):o?r.a.createElement(ee,{header:"Something went wrong",message:o}):r.a.createElement(we.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL PRICE"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(ke.a,{className:"btn-sm",variant:"light"},"Details"))))}))))))},Ge=Object(B.a)((function(e){return{prgressColor:{color:"#fff"}}})),He=function(e){var t=e.history,a=Object(p.b)(),l=Ge(),c=Object(p.c)((function(e){return e.cart})),o=function(e){return(Math.round(100*e)/100).toFixed(2)};c.itemsPrice=o(c.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),c.shippingPrice=o(c.itemsPrice>100?0:100),c.taxPrice=o(Number((.15*c.itemsPrice).toFixed(2))),c.totalPrice=(Number(c.itemsPrice)+Number(c.shippingPrice)+Number(c.taxPrice)).toFixed(2);var u=Object(p.c)((function(e){return e.createOrder})),i=u.order,s=u.success,m=u.error,d=u.loading;Object(n.useEffect)((function(){s&&t.push("/order/".concat(i._id))}),[t,s]);return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(ee,{header:"Create Order Error",message:m,reset:"CREATE_ORDER_RESET"}),r.a.createElement(Ce,{step1:!0,step2:!0,step3:!0}),r.a.createElement(I.a,null,r.a.createElement(A.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:"),c.shippingAddress.address,", ",c.shippingAddress.city," ",c.shippingAddress.postalCode,","," ",c.shippingAddress.country)),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("strong",null,"Method: "),c.paymentMethod),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===c.cartItems.length?r.a.createElement(r.a.Fragment,null,"Your cart is empty"):r.a.createElement(ie.a,{variant:"flush"},c.cartItems.map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(I.a,null,r.a.createElement(A.a,{md:1},r.a.createElement(ue.a,{src:e.productImage,alt:e.productName,fluid:!0,rounded:!0})),r.a.createElement(A.a,null,r.a.createElement(f.Link,{to:"/product/".concat(e.productId)},e.productName)),r.a.createElement(A.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(A.a,{md:4},r.a.createElement(N.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Items"),r.a.createElement(A.a,null,"$",c.itemsPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Shipping"),r.a.createElement(A.a,null,"$",c.shippingPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Tax"),r.a.createElement(A.a,null,"$",c.taxPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Total"),r.a.createElement(A.a,null,"$",c.totalPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:0===c.cartItems||d,onClick:function(){var e;a((e={orderItems:c.cartItems,shipping:c.shippingAddress,payment:{paymentMethod:c.paymentMethod},itemsPrice:c.itemsPrice,shippingPrice:c.shippingPrice,taxPrice:c.taxPrice,totalPrice:c.totalPrice},function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,l,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_ORDER_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.post("/api/v1/order/",e,c).then((function(e){var t=e.data.data;a({type:"CREATE_ORDER_SUCCESS",payload:t})}));case 6:localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),localStorage.removeItem("paymentMethod"),a({type:"CART_RESET"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"CREATE_ORDER_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()))}},d?r.a.createElement(se.a,{color:"inherit",className:l.prgressColor}):r.a.createElement(r.a.Fragment,null,"Place Order"))))))))};Ue.a.vfs=We.a.pdfMake.vfs;var Ve=function(){var e=Object(p.c)((function(e){return e.orderList})),t=Object(p.c)((function(e){return e.userLogin})),a=e.orders,l=e.loading,c=e.error,o=e.count,u=t.userInfo,s=Object(p.b)();Object(n.useEffect)((function(){s(function(){var e=Object(k.a)(w.a.mark((function e(t,a){var n,r,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDERLIST_FETCH_START"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,L.a.get("/api/v1/order/",l).then((function(e){var a=e.data.results,n=e.data.count;t({type:"ORDERLIST_FETCH_SUCCESS",payload:{data:a,totalOrders:n}})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"ORDERLIST_FETCH_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}())}),[s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"clearfix"},r.a.createElement("span",{className:"float-left"},r.a.createElement("h1",null,"Orders (",o,")")),r.a.createElement("span",{className:"float-right"}," ",r.a.createElement(xe,{printAs:function(e){switch(e.target.value){case"pdf":var t={content:[{table:{widths:["auto","*"],body:[[{text:"SHOPPOINT",style:"mainheader",bold:!0,marginTop:10},{width:"*",style:"usersOrders",marginBottom:30,stack:[{style:"h2",text:"Name: ".concat(u.name)},{style:"h2",text:"Email: ".concat(u.email)}]}]]},layout:{hLineWidth:function(e){return 1===e},vLineWidth:function(){return 0},paddingBottom:function(){return 5}}},{style:"header",table:{widths:"*",body:[[{border:["#5bc0de",!1,!1,!1],text:"Orders List"}]]}},a.length>0?{layout:{hLineWidth:function(){return 0},vLineWidth:function(){return 0},paddingBottom:function(){return 5}},table:{headerRows:1,body:[[{text:"S.No",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"ID",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"USER",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"DATE",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"TOTAL PRICE",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"PAID",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"DELIVERED",bold:!0,fillColor:"#2B2B52",color:"white"}]].concat(Object(i.a)(a.map((function(e,t){return[t+1,e._id,e.userId&&e.userId.name,e.createdAt.substring(0,10),e.totalPrice,e.isPaid?e.paidAt.substring(0,10):"Not paid",e.isDelivered?e.deliveredAt.substring(0,10):"Not paid"]}))))},fontSize:9,alignment:"center"}:null],styles:{header:{fontSize:12,marginBottom:20,marginTop:20,bold:!0},mainheader:{fontSize:15},usersOrders:{marginLeft:315},h2:{marginTop:5,fontSize:7}}};Ue.a.createPdf(t).download("ordersList.pdf")}}}))),l?r.a.createElement(Pe,null):c?r.a.createElement(ee,{header:"Something went wrong",message:c}):r.a.createElement(we.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.userId&&e.userId.name),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(ke.a,{variant:"light",className:"btn-sm"},"Details"))))})))))},Me=a(251),qe=function(e){var t=e.header,a=e.message,l=e.reset,c=Object(n.useState)(!0),o=Object(O.a)(c,2),u=o[0],i=o[1],s=Object(p.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"fixed",right:"0",zIndex:"20180210"}},r.a.createElement(Z.a,{onClose:function(){i(!1),s({type:l})},show:u,delay:3e3,autohide:!0,className:"animate__animated animate__shakeX"},r.a.createElement(Z.a.Header,{style:{background:"#43BE31",color:"white",fontWeight:"bold"}},r.a.createElement("strong",{className:"mr-auto"},t)),r.a.createElement(Z.a.Body,null,a))))},ze=a(54),$e=(a(93),Object(B.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:330,top:6,left:-4},selectEmpty:{marginTop:e.spacing(2)},prgressColor:{color:"#fff"}}}))),Ye=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.productList})),a=t.loading,l=t.products,c=t.count,o=t.error,u=t.success,i=Object(p.c)((function(e){return e.deleteProduct})),s=i.success,m=i.error,d=Object(p.c)((function(e){return e.createProductDetails})),E=d.success,f=d.error,h=d.loading,v=$e(),y=Object(n.useState)(""),S=Object(O.a)(y,2),R=S[0],C=S[1],_=Object(n.useState)(""),D=Object(O.a)(_,2),j=D[0],P=D[1],x=Object(n.useState)(""),N=Object(O.a)(x,2),U=N[0],F=N[1],W=Object(n.useState)(""),B=Object(O.a)(W,2),G=B[0],H=B[1],M=Object(n.useState)(""),q=Object(O.a)(M,2),K=q[0],X=q[1],Z=Object(n.useState)(0),te=Object(O.a)(Z,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),le=Object(O.a)(re,2),ce=le[0],oe=le[1],ue=Object(n.useState)(!1),ie=Object(O.a)(ue,2),me=ie[0],de=ie[1],Ee=Object(n.useState)(!0),pe=Object(O.a)(Ee,2),fe=pe[0],he=pe[1];Object(n.useEffect)((function(){E&&(de(!1),C(""),P(""),F(""),H(""),X(""),ne(""),oe(""),e({type:"CREATE_PRODUCT_RESET"})),e(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e&&a({type:"PRODUCTLIST_FETCH_START"}),t.next=4,L.a.get("/api/v1/product/").then((function(e){var t=e.data.data.results,n=e.data.data.count;a({type:"PRODUCTLIST_FETCH_SUCCESS",payload:{productList:t,totalProduct:n}})}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"PRODUCTLIST_FETCH_ERROR",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(fe))}),[e,s,E]),Object(n.useEffect)((function(){u&&fe&&he(!1)}),[e,u]);var ge=function(){de(!1)},ve=function(t){if(t.preventDefault(),""!==R&&""!==K&&""!==j&&""!==ce&&""!==U&&""!==G&&""!==ae){var a=new FormData;a.append("name",R),a.append("productImage",j),a.append("brand",U),a.append("price",G),a.append("category",K),a.append("countInStock",ae),a.append("description",ce),e(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,l,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"CREATE_PRODUCT_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.post("/api/v1/product/",e,c).then((function(e){a({type:"CREATE_PRODUCT_SUCCESS"})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"CREATE_PRODUCT_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))}},ye=function(t,a){a.preventDefault(),Object(ze.confirmAlert)({customUI:function(a){var n=a.onClose;return r.a.createElement("div",{className:"custom-ui"},r.a.createElement("h1",{className:"font-weight-bold text-white"},"Are you sure?"),r.a.createElement("p",null,"You want to delete this product?"),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){e(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,l,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"DELETE_PRODUCT_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.delete("/api/v1/product/".concat(e),c).then((function(e){a({type:"DELETE_PRODUCT_SUCCESS"})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"DELETE_PRODUCT_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(t)),n()}},"Yes, Delete it !"),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:n},"No"))}})};return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(qe,{header:"Done",message:"Product Deleted Successfully",reset:"DELETE_PRODUCT_RESET"}),m&&r.a.createElement(ee,{header:"Something went wrong",message:m,reset:"DELETE_PRODUCT_RESET"}),r.a.createElement(I.a,null,r.a.createElement(A.a,null,r.a.createElement("h1",null,"Products(",c,")")),r.a.createElement(A.a,{className:"text-right"},r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){return de(!0)}},r.a.createElement("i",{className:"fas fa-plus"})," Create Product"))),a?r.a.createElement(Pe,null):o?r.a.createElement(ee,{header:"Something went wrong",message:o}):r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"BRAND"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},r.a.createElement(ke.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(ke.a,{variant:"danger",className:"btn-sm",onClick:function(t){return ye(e._id,t)}},r.a.createElement("i",{className:"fas fa-trash"}))))}))))),function(){if(me)return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,{show:me,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Me.a.Header,null,r.a.createElement(Me.a.Title,{id:"contained-modal-title-vcenter"},"Add Product")),f&&r.a.createElement(ee,{header:"Something went wrong",message:f,reset:"CREATE_PRODUCT_RESET"}),r.a.createElement(T.a,{onSubmit:ve},r.a.createElement(Me.a.Body,{className:"show-grid"},r.a.createElement(g.a,null,r.a.createElement(I.a,null,r.a.createElement(A.a,{xs:12,md:6},r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:R,onChange:function(e){return C(e.target.value)}})),r.a.createElement(A.a,{xs:12,md:6},r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"brand",label:"Brand",name:"brand",autoComplete:"brand",autoFocus:!0,value:U,onChange:function(e){return F(e.target.value)}}))),r.a.createElement(I.a,null,r.a.createElement(A.a,{xs:12,md:6},r.a.createElement(V.a,{variant:"outlined",type:"number",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",autoComplete:"price",autoFocus:!0,value:G,onChange:function(e){return H(Number(e.target.value))}})),r.a.createElement(A.a,{xs:12,md:6},r.a.createElement(V.a,{variant:"outlined",type:"number",margin:"normal",required:!0,fullWidth:!0,id:"countInStock",label:"CountInStock",name:"countInStock",autoComplete:"countInStock",autoFocus:!0,value:ae,onChange:function(e){return ne(Number(e.target.value))}}))),r.a.createElement(I.a,null,r.a.createElement(A.a,{xs:12,md:6},r.a.createElement(V.a,{variant:"outlined",type:"file",margin:"normal",required:!0,fullWidth:!0,id:"file",name:"file",autoComplete:"file",autoFocus:!0,onChange:function(e){return P(e.target.files[0])}})),r.a.createElement(A.a,{xs:12,md:6},r.a.createElement(J.a,{variant:"outlined",className:v.formControl},r.a.createElement($.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return X(e.target.value)},label:"Category",value:K},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"Shirt"},"T-shirt"),r.a.createElement(Y.a,{value:"Pants"},"Pant"),r.a.createElement(Y.a,{value:"Vest"},"Vest"))))),r.a.createElement(I.a,null,r.a.createElement(A.a,{xs:12,md:12},r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"description",autoFocus:!0,value:ce,multiline:!0,rows:5,onChange:function(e){return oe(e.target.value)}}))))),r.a.createElement(Me.a.Footer,null,r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",className:"mr-2",disabled:h},h?r.a.createElement(se.a,{color:"inherit",className:v.prgressColor}):r.a.createElement(r.a.Fragment,null,"Submit"))," ",r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:ge},"Close")))))}())};Ue.a.vfs=We.a.pdfMake.vfs;var Je=function(){var e=Object(p.b)(),t=Object(n.useState)(!0),a=Object(O.a)(t,2),l=a[0],c=a[1],o=Object(p.c)((function(e){return e.userList})),u=o.loading,s=o.users,m=o.count,d=o.error,E=o.success,f=Object(p.c)((function(e){return e.userDeleteDetails})),h=f.success,g=f.error,v=Object(p.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){e(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,l,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e&&a({type:"USERLIST_FETCH_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.get("/api/v1/user",c).then((function(e){var t=e.data.data.results,n=e.data.data.count;a({type:"USERLIST_FETCH_SUCCESS",payload:{userList:t,totalUser:n}})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"USERLIST_FETCH_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(l))}),[e,h]),Object(n.useEffect)((function(){E&&l&&c(!1)}),[e,E]);var y=function(t,a){a.preventDefault(),Object(ze.confirmAlert)({customUI:function(a){var n=a.onClose;return r.a.createElement("div",{className:"custom-ui"},r.a.createElement("h1",{className:"font-weight-bold text-white"},"Are you sure?"),r.a.createElement("p",null,"You want to delete this user?"),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){e(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,l,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DELETE_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.delete("/api/v1/user/".concat(e),c).then((function(e){a({type:"USER_DELETE_SUCCESS"})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"USER_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(t)),n()}},"Yes, Delete it !"),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:n},"No"))}})};return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(qe,{header:"Done",message:"User Deleted Successfully",reset:"USER_DELETE_RESET"}),g&&r.a.createElement(ee,{header:"Something went wrong",message:g,reset:"USER_DELETE_RESET"}),r.a.createElement("div",{className:"clearfix"},r.a.createElement("span",{className:"float-left"},r.a.createElement("h1",null,"Users (",m,")")),r.a.createElement("span",{className:"float-right"}," ",r.a.createElement(xe,{printAs:function(e){switch(e.target.value){case"pdf":var t={content:[{table:{widths:["auto","*"],body:[[{text:"SHOPPOINT",style:"mainheader",bold:!0,marginTop:10},{width:"*",style:"usersOrders",marginBottom:30,stack:[{style:"h2",text:"Name: ".concat(v.name)},{style:"h2",text:"Email: ".concat(v.email)}]}]]},layout:{hLineWidth:function(e){return 1===e},vLineWidth:function(){return 0},paddingBottom:function(){return 5}}},{style:"header",table:{widths:"*",body:[[{border:["#5bc0de",!1,!1,!1],text:"Users List"}]]}},s.length>0?{layout:{hLineWidth:function(){return 0},vLineWidth:function(){return 0},paddingBottom:function(){return 5}},table:{headerRows:1,body:[[{text:"S.No",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"ID",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"NAME",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"EMAIL",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"VERIFIED",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"ROLE",bold:!0,fillColor:"#2B2B52",color:"white"},{text:"DATE",bold:!0,fillColor:"#2B2B52",color:"white"}]].concat(Object(i.a)(s.map((function(e,t){return[t+1,e._id,e.name,e.email,e.verify?"Verified":"Not paid",e.role,e.createdAt.substring(0,10)]}))))},fontSize:8,alignment:"center"}:null],styles:{header:{fontSize:12,marginBottom:20,marginTop:20,bold:!0},mainheader:{fontSize:15},usersOrders:{marginLeft:315},h2:{marginTop:5,fontSize:7}}};Ue.a.createPdf(t).download("usersList.pdf")}}}))),u?r.a.createElement(Pe,null):d?r.a.createElement(ee,{header:"Something went wrong",message:d}):r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"VERIFIED"),r.a.createElement("th",null,"ROLE"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"ACTION"))),r.a.createElement("tbody",null,s.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),r.a.createElement("td",null,e.verify?r.a.createElement("i",{className:"fas fa-check",style:{color:"#43BE31"}}):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,e.role),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,r.a.createElement(b.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},r.a.createElement(ke.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(ke.a,{variant:"danger",className:"btn-sm",onClick:function(t){return y(e._id,t)}},r.a.createElement("i",{className:"fas fa-trash"}))))}))))))},Qe=a(109),Ke=a.n(Qe),Xe=Object(B.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},prgressColor:{color:"#fff"}}})),Ze=function(e){var t=e.match.params.userId,a=Object(p.c)((function(e){return e.userUpdateDetails})),l=a.loading,c=a.error,o=a.success,u=Object(p.c)((function(e){return e.userDetails})),i=u.loading,s=u.user,m=u.error,d=u.success,E=Object(n.useState)(""),g=Object(O.a)(E,2),v=g[0],y=g[1],S=Object(n.useState)(""),b=Object(O.a)(S,2),R=b[0],C=b[1],_=Object(n.useState)(""),I=Object(O.a)(_,2),A=I[0],D=I[1],j=Object(n.useState)(!1),P=Object(O.a)(j,2),x=P[0],N=P[1],U=Xe(),F=Object(p.b)();Object(n.useEffect)((function(){var e;F((e=t,function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,l,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_FETCH_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.get("/api/v1/user/".concat(e),c).then((function(e){var t=e.data.data;a({type:"USER_FETCH_SUCCESS",payload:t})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"USER_FETCH_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[F,t]),Object(n.useEffect)((function(){d&&(y(s.name),C(s.email),D(s.role))}),[F,d]);return r.a.createElement(r.a.Fragment,null,x&&r.a.createElement(h.c,{to:"/admin/userList"}),c&&r.a.createElement(ee,{header:"Something went wrong",message:c,reset:"USER_EDIT_RESET"}),r.a.createElement(f.Link,{to:"/admin/userList",className:"btn btn-light my-3"},"Go Back"),i?r.a.createElement("h4",null,"Loading..."):m?r.a.createElement(ee,{header:"Something went wrong",message:m}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null,r.a.createElement("h1",null,"Edit User"),r.a.createElement(T.a,{onSubmit:function(e){var a,n;e.preventDefault(),F((a=t,n={name:v,email:R,role:A},function(){var e=Object(k.a)(w.a.mark((function e(t,r){var l,c,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_EDIT_START"}),l=r(),c=l.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,L.a.put("/api/v1/user/".concat(a),n,o).then((function(e){t({type:"USER_EDIT_SUCCESS"})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"USER_EDIT_FAIL",payload:e.t0.response&&e.t0.response.data.error?e.t0.response.data.error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:v,onChange:function(e){return y(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",type:"email",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"brand",autoFocus:!0,value:R,onChange:function(e){return C(e.target.value)}}),r.a.createElement(J.a,{variant:"outlined",className:U.formControl},r.a.createElement($.a,{id:"demo-simple-select-outlined-label"},"Role"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return D(e.target.value)},label:"Role",value:A},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"user"},"User"),r.a.createElement(Y.a,{value:"admin"},"Admin"))),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:l,className:U.prgressColor},l?r.a.createElement(se.a,{color:"inherit"}):r.a.createElement(r.a.Fragment,null,"Update")))),function(){if(o)return Object(ze.confirmAlert)({customUI:function(e){var t=e.onClose;return r.a.createElement("div",{className:"custom-ui-alert"},r.a.createElement("div",{className:"success-img"},r.a.createElement("img",{src:Ke.a,alt:"confirmationImg"})),r.a.createElement("h3",{className:"font-weight-bold text"},"User updated successfully"),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){t(),F({type:"USER_EDIT_RESET"}),N(!0)}},"OK"))}})}()))},et=Object(B.a)((function(e){return{typography:{padding:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},prgressColor:{color:"#fff"}}})),tt=function(e){var t=e.match.params.productId,a=Object(p.c)((function(e){return e.Product})),l=a.loading,c=a.product,o=a.error,u=a.success,i=Object(p.c)((function(e){return e.updateProductDetails})),s=i.loading,m=i.error,d=i.success,E=Object(n.useState)(""),g=Object(O.a)(E,2),v=g[0],y=g[1],S=Object(n.useState)(""),b=Object(O.a)(S,2),R=b[0],C=b[1],_=Object(n.useState)(0),I=Object(O.a)(_,2),A=I[0],D=I[1],j=Object(n.useState)(""),P=Object(O.a)(j,2),N=P[0],U=P[1],F=Object(n.useState)(0),W=Object(O.a)(F,2),B=W[0],G=W[1],H=Object(n.useState)(""),M=Object(O.a)(H,2),q=M[0],K=M[1],X=Object(n.useState)(!1),Z=Object(O.a)(X,2),te=Z[0],ae=Z[1],ne=et(),re=Object(p.b)();Object(n.useEffect)((function(){re(x(t))}),[re,t]),Object(n.useEffect)((function(){u&&(y(c.name),D(c.price),C(c.brand),U(c.category),G(c.countInStock),K(c.description))}),[re,u]);return r.a.createElement(r.a.Fragment,null,te&&r.a.createElement(h.c,{to:"/admin/productList"}),m&&r.a.createElement(ee,{header:"Something went wrong",message:m,reset:"EDIT_PRODUCT_RESET"}),r.a.createElement(f.Link,{to:"/admin/productlist",className:"btn btn-light my-3"},"Go Back"),l?r.a.createElement("h4",null,"Loading..."):o?r.a.createElement(ee,{header:"Something went wrong",message:o}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,null,r.a.createElement("h1",null,"Edit Product"),r.a.createElement(T.a,{onSubmit:function(e){var a,n;e.preventDefault(),re((a=t,n={name:v,brand:R,price:A,category:N,countInStock:B,description:q},function(){var e=Object(k.a)(w.a.mark((function e(t,r){var l,c,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"EDIT_PRODUCT_START"}),l=r(),c=l.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},e.next=6,L.a.put("/api/v1/product/".concat(a),n,o).then((function(e){t({type:"EDIT_PRODUCT_SUCCESS",payload:"Product updated successfully"})}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"EDIT_PRODUCT_FAIL",payload:e.t0.response&&e.t0.response.data.error?e.t0.response.data.error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0,value:v,onChange:function(e){return y(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"brand",label:"Brand",name:"brand",autoComplete:"brand",autoFocus:!0,value:R,onChange:function(e){return C(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",type:"number",margin:"normal",required:!0,fullWidth:!0,id:"price",label:"Price",name:"price",autoComplete:"price",autoFocus:!0,value:A,onChange:function(e){return D(Number(e.target.value))}}),r.a.createElement(V.a,{variant:"outlined",type:"number",margin:"normal",required:!0,fullWidth:!0,id:"countInStock",label:"CountInStock",name:"countInStock",autoComplete:"countInStock",autoFocus:!0,value:B,onChange:function(e){return G(Number(e.target.value))}}),r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"description",autoFocus:!0,value:q,multiline:!0,rows:5,onChange:function(e){return K(e.target.value)}}),r.a.createElement(J.a,{variant:"outlined",className:ne.formControl},r.a.createElement($.a,{id:"demo-simple-select-outlined-label"},"Category"),r.a.createElement(Q.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",onChange:function(e){return U(e.target.value)},label:"Category",value:N},r.a.createElement(Y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(Y.a,{value:"Shirt"},"T-shirt"),r.a.createElement(Y.a,{value:"Pants"},"Pant"),r.a.createElement(Y.a,{value:"Vest"},"Vest"))),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:s},s?r.a.createElement(se.a,{color:"inherit",className:ne.prgressColor}):r.a.createElement(r.a.Fragment,null,"Update")))),function(){if(d)return Object(ze.confirmAlert)({customUI:function(e){var t=e.onClose;return r.a.createElement("div",{className:"custom-ui-alert"},r.a.createElement("div",{className:"success-img"},r.a.createElement("img",{src:Ke.a,alt:"confirmationImg"})),r.a.createElement("h3",{className:"font-weight-bold text"},"Product updated successfully"),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){t(),re({type:"EDIT_PRODUCT_RESET"}),ae(!0)}},"OK"))}})}()))},at=a(148),nt=a(249),rt=function(e){var t=e.variant,a=e.children;return r.a.createElement(nt.a,{variant:t},a)};rt.defaultProps={variant:"info"};var lt=rt,ct=a(250),ot=function(){return r.a.createElement(ct.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading..."))},ut=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null," ",r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(I.a,null,r.a.createElement(A.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("p",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("p",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("p",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30}))),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement("p",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30}))),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null," ",r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,{md:1},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(A.a,{md:4},r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))))))),r.a.createElement(A.a,{md:4},r.a.createElement(N.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null)))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))),r.a.createElement(A.a,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,null))))),r.a.createElement(ie.a.Item,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30}))),r.a.createElement(ie.a.Item,null,r.a.createElement(te.SkeletonTheme,{color:"lightGray"},r.a.createElement(ae.a,{height:30}))))))))},it=function(e){var t=e.match.params.orderId,a=Object(n.useState)(!1),l=Object(O.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(!0),i=Object(O.a)(u,2),s=i[0],m=i[1],d=Object(p.b)(),E=Object(p.c)((function(e){return e.orderDetails})),h=E.order,g=E.loading,v=E.error,y=E.success,S=Object(p.c)((function(e){return e.orderPay})),b=S.loading,T=S.success,R=Object(p.c)((function(e){return e.orderDeliver})),C=R.loading,_=R.success,D=Object(p.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(w.a.mark((function e(){var t,a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){o(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h&&!h.isPaid&&(window.paypal?o(!0):e())}),[d,t,T,_,h]),Object(n.useEffect)((function(){d({type:"ORDER_PAY_RESET"}),d({type:"ORDER_DELIVER_RESET"}),d(function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n,r){var l,c,o;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t&&n({type:"GET_ORDER_START"}),l=r(),c=l.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},a.next=6,L.a.get("/api/v1/order/".concat(e),o).then((function(e){var t=e.data.data;n({type:"GET_ORDER_SUCCESS",payload:t})}));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"GET_ORDER_FAIL",payload:a.t0.response&&a.t0.response.data.error?a.t0.response.data.error:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,s))}),[d,T,_]),Object(n.useEffect)((function(){y&&s&&m(!1)}),[d,y]);return g?r.a.createElement(ut,null):v?r.a.createElement(ee,{header:"Something went wrong",message:v}):r.a.createElement(r.a.Fragment,null,h?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Order ",h._id),r.a.createElement(I.a,null,r.a.createElement(A.a,{md:8},r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: ")," ",h.userId.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email: ")," ",r.a.createElement("a",{href:"mailto:".concat(h.userId.email)},h.userId.email)),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:")," ",h.shipping.address,",",h.shipping.city," ",h.shipping.postalCode,","," ",h.shipping.country),h.isDelivered?r.a.createElement(lt,{variant:"success"},"Delivered on ",h.deliveredAt):r.a.createElement(lt,{variant:"danger"},"Not Delivered")),r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method: "),h.payment?h.payment.paymentMethod:""),h.isPaid?r.a.createElement(lt,{variant:"success"},"Paid on ",h.paidAt):r.a.createElement(lt,{variant:"danger"},"Not Paid")),h.orderItems?r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===h.orderItems.length?r.a.createElement(lt,null,"Order is empty"):r.a.createElement(ie.a,{variant:"flush"},h.orderItems.map((function(e,t){return r.a.createElement(ie.a.Item,{key:t},r.a.createElement(I.a,null,r.a.createElement(A.a,{md:1},r.a.createElement(ue.a,{src:e.productImage,alt:e.productName,fluid:!0,rounded:!0})),r.a.createElement(A.a,null,r.a.createElement(f.Link,{to:"/product/".concat(e.productId)},e.productName)),r.a.createElement(A.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))):"")),r.a.createElement(A.a,{md:4},r.a.createElement(N.a,null,r.a.createElement(ie.a,{variant:"flush"},r.a.createElement(ie.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Items"),r.a.createElement(A.a,null,"$",h.itemsPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Shipping"),r.a.createElement(A.a,null,"$",h.shippingPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Tax"),r.a.createElement(A.a,null,"$",h.taxPrice))),r.a.createElement(ie.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(A.a,null,"Total"),r.a.createElement(A.a,null,"$",h.totalPrice))),!h.isPaid&&r.a.createElement(ie.a.Item,null,b&&r.a.createElement(ot,null),c?r.a.createElement(at.PayPalButton,{amount:h.totalPrice,onSuccess:function(e){d(function(e,t){return function(){var a=Object(k.a)(w.a.mark((function a(n,r){var l,c,o;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"ORDER_PAY_START"}),l=r(),c=l.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(c.token)}},a.next=6,L.a.post("/api/v1/order/".concat(e,"/pay"),t,o).then((function(e){var t=e.data.data;n({type:"ORDER_PAY_SUCCESS",payload:t})}));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"ORDER_PAY_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,e))}}):r.a.createElement(ot,null)),C&&r.a.createElement(ot,null),D&&"admin"===D.role&&h.isPaid&&!h.isDelivered&&r.a.createElement(ie.a.Item,null,r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(){d(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a,n){var r,l,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DILIVERD_START"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,L.a.post("/api/v1/order/".concat(e,"/deliver"),{},c).then((function(e){var t=e.data.data;a({type:"ORDER_DILIVERD_SUCCESS",payload:t})}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"ORDER_DILIVERD_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()}(h._id))}},"Mark As Delivered"))))))):"")},st=function(){var e=Object(p.b)();return Object(n.useEffect)((function(){e((function(e){localStorage.removeItem("userInfo"),e({type:"RESET"})}))}),[e]),r.a.createElement(h.c,{to:"/"})},mt=Object(B.a)((function(e){return{prgressColor:{color:"#fff"}}})),dt=function(e){var t=e.location,a=e.history,l=Object(n.useState)(""),c=Object(O.a)(l,2),o=c[0],u=c[1],i=Object(n.useState)(""),s=Object(O.a)(i,2),m=s[0],d=s[1],E=Object(n.useState)(""),h=Object(O.a)(E,2),g=h[0],v=h[1],y=Object(n.useState)(""),S=Object(O.a)(y,2),b=S[0],R=S[1],C=Object(n.useState)(""),_=Object(O.a)(C,2),D=_[0],j=_[1],P=mt(),x=Object(p.c)((function(e){return e.userRegister})),N=x.error,U=x.loading,F=x.message,W=x.success,B=Object(p.b)(),G=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){W&&setTimeout((function(){var e=G?"/EmailVerification?redirect=".concat(G):"/EmailVerification";a.push(e)}),5e3)}),[W,a,G]);var H=function(e){if(e.preventDefault(),d(""),b!==D)return d("Passwords do not match");B(function(e,t,a){return function(){var n=Object(k.a)(w.a.mark((function n(r){var l;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"USER_REGISTER_START"}),l={name:e,email:t,password:a},n.next=5,L.a.post("/api/v1/auth/register",l).then((function(e){var t=e.data.message;r({type:"USER_REGISTER_SUCCESS",payload:t})}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:"USER_REGISTER_FAIL",payload:n.t0.response&&n.t0.response.data.error?n.t0.response.data.error:n.t0.message});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(o,g,b))};return r.a.createElement(ge,null,r.a.createElement("h1",null,"Sign Up"),N&&r.a.createElement(ee,{header:"Auth Error",message:N,reset:"USER_REGISTER_RESET"}),""!==m&&r.a.createElement(ee,{header:"Auth Error",message:m}),W&&r.a.createElement(qe,{header:"Register SuccessFully",message:F,reset:"USER_REGISTER_RESET"}),r.a.createElement(T.a,{onSubmit:H},r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"User Name",name:"name",autoComplete:"email",autoFocus:!0,value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",type:"email",margin:"normal",placeholder:"ex:- JohnDoe@gmail.com",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:g,onChange:function(e){return v(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",type:"password",placeholder:"***********",required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",value:b,autoComplete:"current-password",onChange:function(e){return R(e.target.value)}}),r.a.createElement(V.a,{variant:"outlined",margin:"normal",type:"password",placeholder:"***********",required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",value:D,autoComplete:"current-password",onChange:function(e){return j(e.target.value)}}),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:H,disabled:U},U?r.a.createElement(se.a,{color:"inherit",className:P.prgressColor}):r.a.createElement(r.a.Fragment,null,"Register"))),r.a.createElement(I.a,{className:"py-3"},r.a.createElement(A.a,null,"Have an Account?"," ",r.a.createElement(f.Link,{to:G?"/login?redirect=".concat(G):"/login"},"Login"))))},Et=Object(B.a)((function(e){return{prgressColor:{color:"#fff"}}})),pt=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],l=t[1],c=Et(),o=Object(p.c)((function(e){return e.forgotPasswordDetails})),u=o.loading,i=o.error,s=o.message,m=o.success,d=Object(p.b)();return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(ee,{header:"Auth Error",message:i,reset:"FORGOT_PASSWORD_SEND_RSET"}),m&&r.a.createElement(qe,{header:"Done",message:s,reset:"FORGOT_PASSWORD_SEND_RSET"}),r.a.createElement(ge,null,r.a.createElement("h1",null,"Forgot Password"),r.a.createElement(T.a,null,r.a.createElement(V.a,{variant:"outlined",type:"email",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Your Email",name:"email",autoComplete:"email",autoFocus:!0,value:a,onChange:function(e){return l(e.target.value)}}),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(e){e.preventDefault(),d(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"FORGOT_PASSWORD_SEND_START"}),t.next=4,L.a.post("/api/v1/auth/forgotPassword",e).then((function(e){var t=e.data.message;a({type:"FORGOT_PASSWORD_SEND_SUCCESS",payload:t})}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"FORGOT_PASSWORD_SEND_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}({email:a}))},disabled:u},u?r.a.createElement(se.a,{color:"inherit",className:c.prgressColor}):r.a.createElement(r.a.Fragment,null,"Send Request")))))},ft=Object(B.a)((function(e){return{prgressColor:{color:"#fff"}}})),ht=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(O.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),i=Object(O.a)(u,2),s=i[0],m=i[1],d=ft(),E=Object(p.c)((function(e){return e.resetPasswordDetails})),f=E.loading,h=E.error,g=E.message,v=E.success,y=Object(p.b)();Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search),a=e.get("token")?e.get("token").trim():null;a?m(a):t.push("/login")}),[y,s,t]),Object(n.useEffect)((function(){v&&setTimeout((function(){t.push("/login")}),3e3)}),[y,v,t]);return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(ee,{header:"Auth Error",message:h,reset:"FORGOT_PASSWORD_SEND_RSET"}),v&&r.a.createElement(qe,{header:"Done",message:g,reset:"FORGOT_PASSWORD_SEND_RSET"}),r.a.createElement(ge,null,r.a.createElement("h1",null,"Reset Password"),r.a.createElement(T.a,null,r.a.createElement(V.a,{variant:"outlined",type:"password",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"New Password",name:"password",autoComplete:"password",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(e){var t;e.preventDefault(),y((t={newPassword:c,token:s},function(){var e=Object(k.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"RESET_PASSWORD_START"}),e.next=4,L.a.post("/api/v1/auth/resetPassword",t).then((function(e){var t=e.data.message;a({type:"RESET_PASSWORD_SUCCESS",payload:t})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a({type:"RESET_PASSWORD_FAIL",payload:e.t0.response&&e.t0.response.data.error?e.t0.response.data.error:e.t0.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()))},disabled:f},f?r.a.createElement(se.a,{color:"inherit",className:d.prgressColor}):r.a.createElement(r.a.Fragment,null,"Reset")))))},gt=Object(B.a)((function(e){return{prgressColor:{color:"#fff"}}})),vt=function(e){var t=e.location,a=e.history,l=Object(n.useState)(""),c=Object(O.a)(l,2),o=c[0],u=c[1],i=gt(),m=Object(p.c)((function(e){return e.userLogin})),d=m.userInfo,E=m.error,f=m.loading,h=t.search?t.search.split("=")[1]:"/",g=Object(p.b)();Object(n.useEffect)((function(){d&&a.push(h)}),[g,d,h,a]);return r.a.createElement(r.a.Fragment,null,E&&r.a.createElement(ee,{header:"Auth Error",message:E,reset:"RESET"}),r.a.createElement(ge,null,r.a.createElement("h1",null,"Email Verification"),r.a.createElement(T.a,null,r.a.createElement(V.a,{variant:"outlined",type:"text",margin:"normal",required:!0,fullWidth:!0,id:"code",label:"Verification Code",name:"code",autoComplete:"code",autoFocus:!0,value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement(z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(e){e.preventDefault(),g(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(a){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_AUTH_START"}),n={verificationCode:e},t.next=5,L.a.post("/api/v1/auth/verifyEmail",n).then((function(e){var t=e.data.authData,n=e.data.token,r=Object(s.a)(Object(s.a)({},t),{},{token:n});localStorage.setItem("userInfo",JSON.stringify(r)),a({type:"USER_AUTH_SUCCESS",payload:r})}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"USER_AUTH_FAIL",payload:t.t0.response&&t.t0.response.data.error?t.t0.response.data.error:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(o))},disabled:f},f?r.a.createElement(se.a,{color:"inherit",className:i.prgressColor}):r.a.createElement(r.a.Fragment,null,"Verify")))))};var yt=function(){return r.a.createElement(f.BrowserRouter,null,r.a.createElement(_,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(g.a,null,r.a.createElement(h.g,null,r.a.createElement(h.d,{exact:!0,path:"/",component:oe}),r.a.createElement(h.d,{exact:!0,path:"/product/:productId",component:he}),r.a.createElement(h.d,{exact:!0,path:"/login",component:ye}),r.a.createElement(h.d,{exact:!0,path:"/cart",component:be}),r.a.createElement(h.d,{exact:!0,path:"/forgotPasssword",component:pt}),r.a.createElement(h.d,{exact:!0,path:"/resetPassword",component:ht}),r.a.createElement(Te,{exact:!0,path:"/shipping",component:_e}),r.a.createElement(Te,{exact:!0,path:"/payment",component:je}),r.a.createElement(Te,{exact:!0,path:"/placeOrder",component:He}),r.a.createElement(Te,{exact:!0,path:"/order/:orderId",component:it}),r.a.createElement(Te,{exact:!0,path:"/profile",component:Be}),r.a.createElement(Re,{exact:!0,path:"/admin/orderList",component:Ve}),r.a.createElement(Re,{exact:!0,path:"/admin/productList",component:Ye}),r.a.createElement(Re,{exact:!0,path:"/admin/product/:productId/edit",component:tt}),r.a.createElement(Re,{exact:!0,path:"/admin/userList",component:Je}),r.a.createElement(Re,{exact:!0,path:"/admin/user/:userId/edit",component:Ze}),r.a.createElement(h.d,{exact:!0,path:"/register",component:dt}),r.a.createElement(h.d,{exact:!0,path:"/EmailVerification",component:vt}),r.a.createElement(h.d,{exact:!0,path:"/logout",component:st})))),r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:E},r.a.createElement(yt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[162,1,2]]]);
//# sourceMappingURL=main.857554d2.chunk.js.map